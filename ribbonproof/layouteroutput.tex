%Starting.
\pgfdeclarelayer{frontmost}
\pgfdeclarelayer{colnameslayer}
\pgfsetlayers{main,frontmost,colnameslayer}
\begin{tikzpicture}[x=1mm,y=1mm,scale=1.]
% State has been set.
% Pen down
\fill [white] (347,0) -- (347,0) -- (355,0) -- (355,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,0) -- (347,0);
\draw [ultra thick, black, line cap=rect] (355,0) -- (355,0);
\fill [white] (13,0) -- (13,0) -- (283,0) -- (283,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,0) -- (13,0);
\draw [ultra thick, black, line cap=rect] (283,0) -- (283,0);
\fill [white] (367,0) -- (367,0) -- (375,0) -- (375,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,0) -- (367,0);
\draw [ultra thick, black, line cap=rect] (375,0) -- (375,0);
\draw [ultra thick, lightgray] (1,0) -- (1,0);
\draw [ultra thick, lightgray] (383,0) -- (383,0);
\fill [white] (347,0) -- (347,0) -- (355,0) -- (355,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,0) -- (347,0);
\draw [ultra thick, black, line cap=rect] (355,0) -- (355,0);
\fill [white] (13,0) -- (13,0) -- (283,0) -- (283,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,0) -- (13,0);
\draw [ultra thick, black, line cap=rect] (283,0) -- (283,0);
\fill [white] (367,0) -- (367,0) -- (375,0) -- (375,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,0) -- (367,0);
\draw [ultra thick, black, line cap=rect] (375,0) -- (375,0);
\draw [ultra thick, lightgray] (1,0) -- (1,0);
\draw [ultra thick, lightgray] (383,0) -- (383,0);
\fill [white] (347,0) -- (347,0) -- (355,0) -- (355,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,0) -- (347,0);
\draw [ultra thick, black, line cap=rect] (355,0) -- (355,0);
\begin{pgfonlayer}{frontmost}
\draw [black] (351,-5) node{\smash{$\ml[t]{\mrot{{\tt nb}= 2^{32}-8 ∨ ({\tt nb}≥16 ∧ {\tt nb}≥ \ceil[{\sf w}]{{\tt bytes}+{\sf w}} ∧ 8|{\tt nb}) }}$}};
\end{pgfonlayer}
\fill [white] (13,0) -- (13,0) -- (283,0) -- (283,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,0) -- (13,0);
\draw [ultra thick, black, line cap=rect] (283,0) -- (283,0);
\begin{pgfonlayer}{frontmost}
\draw [black] (148,-5) node{\smash{$\ml[t]{\state A}$}};
\end{pgfonlayer}
\fill [white] (367,0) -- (367,0) -- (375,0) -- (375,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,0) -- (367,0);
\draw [ultra thick, black, line cap=rect] (375,0) -- (375,0);
\begin{pgfonlayer}{frontmost}
\draw [black] (371,-5) node{\smash{$\ml[t]{\mrot{{\tt bytes}≥0}}$}};
\end{pgfonlayer}
\draw [ultra thick, lightgray] (1,0) -- (1,0);
\draw [ultra thick, lightgray] (383,0) -- (383,0);
\fill [white] (347,0) -- (347,-21) -- (355,-21) -- (355,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,0) -- (347,-21);
\draw [ultra thick, black, line cap=rect] (355,0) -- (355,-21);
\fill [white] (367,0) -- (367,-21) -- (375,-21) -- (375,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,0) -- (367,-21);
\draw [ultra thick, black, line cap=rect] (375,0) -- (375,-21);
\draw [ultra thick, lightgray] (1,-21) -- (1,0);
\draw [ultra thick, lightgray] (383,-21) -- (383,0);
\fill [white] (13,0) -- (13,-20) -- (283,-20) -- (283,0) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,0) -- (13,-20);
\draw [ultra thick, black, line cap=rect] (283,0) -- (283,-20);
\draw [ultra thick, black, line cap=rect] (13,-20) -- (283,-20);
\fill [white] (325,-1) -- (325,-21) -- (333,-21) -- (333,-1) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-1) -- (325,-21);
\draw [ultra thick, black, line cap=rect] (333,-1) -- (333,-21);
\draw [ultra thick, black, line cap=rect] (325,-1) -- (333,-1);
\begin{pgfonlayer}{frontmost}
\draw [black] (329,-6) node{\smash{$\ml[t]{\mrot{{\tt nb}<{\tt topsize}}}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (13,-27) rectangle (283,-21);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (13,-26) rectangle (283,-22);
\draw [black] (13,-24) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{state}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (325,-21) -- (325,-27) -- (333,-27) -- (333,-21) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-21) -- (325,-27);
\draw [ultra thick, black, line cap=rect] (333,-21) -- (333,-27);
\fill [white] (347,-21) -- (347,-27) -- (355,-27) -- (355,-21) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-21) -- (347,-27);
\draw [ultra thick, black, line cap=rect] (355,-21) -- (355,-27);
\fill [white] (367,-21) -- (367,-27) -- (375,-27) -- (375,-21) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-21) -- (367,-27);
\draw [ultra thick, black, line cap=rect] (375,-21) -- (375,-27);
\draw [ultra thick, lightgray] (1,-27) -- (1,-21);
\draw [ultra thick, lightgray] (383,-27) -- (383,-21);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (3,-30) -- (289,-30);
\draw [thin, black] (3,-30) -- (289,-30);
\draw [thin, black] (3,-32) -- (3,-30);
\draw [thin, black] (289,-30) -- (289,-32);
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\draw [black] (5,-30) node[anchor=west]{\smash{\colorbox{white}{\vphantom{:}\smash{$∃t$}}}};
\end{pgfonlayer}
\fill [white] (325,-27) -- (325,-32) -- (333,-32) -- (333,-27) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-27) -- (325,-32);
\draw [ultra thick, black, line cap=rect] (333,-27) -- (333,-32);
\fill [white] (347,-27) -- (347,-32) -- (355,-32) -- (355,-27) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-27) -- (347,-32);
\draw [ultra thick, black, line cap=rect] (355,-27) -- (355,-32);
\fill [white] (367,-27) -- (367,-32) -- (375,-32) -- (375,-27) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-27) -- (367,-32);
\draw [ultra thick, black, line cap=rect] (375,-27) -- (375,-32);
\draw [ultra thick, lightgray] (1,-32) -- (1,-27);
\draw [ultra thick, lightgray] (383,-32) -- (383,-27);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (7,-35) -- (287,-35);
\draw [thin, black] (7,-35) -- (287,-35);
\draw [thin, black] (7,-37) -- (7,-35);
\draw [thin, black] (287,-35) -- (287,-37);
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\draw [black] (9,-35) node[anchor=west]{\smash{\colorbox{white}{\vphantom{:}\smash{$∃U_0,\ldots,U_{63}$}}}};
\end{pgfonlayer}
\fill [white] (325,-32) -- (325,-37) -- (333,-37) -- (333,-32) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-32) -- (325,-37);
\draw [ultra thick, black, line cap=rect] (333,-32) -- (333,-37);
\fill [white] (347,-32) -- (347,-37) -- (355,-37) -- (355,-32) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-32) -- (347,-37);
\draw [ultra thick, black, line cap=rect] (355,-32) -- (355,-37);
\fill [white] (367,-32) -- (367,-37) -- (375,-37) -- (375,-32) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-32) -- (367,-37);
\draw [ultra thick, black, line cap=rect] (375,-32) -- (375,-37);
\draw [ultra thick, lightgray] (1,-37) -- (1,-32);
\draw [ultra thick, lightgray] (383,-37) -- (383,-32);
\draw [thin, black] (3,-37) -- (3,-32);
\draw [thin, black] (289,-37) -- (289,-32);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (11,-40) -- (285,-40);
\draw [thin, black] (11,-40) -- (285,-40);
\draw [thin, black] (11,-42) -- (11,-40);
\draw [thin, black] (285,-40) -- (285,-42);
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\draw [black] (13,-40) node[anchor=west]{\smash{\colorbox{white}{\vphantom{:}\smash{$∃v$}}}};
\end{pgfonlayer}
\fill [white] (325,-37) -- (325,-42) -- (333,-42) -- (333,-37) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-37) -- (325,-42);
\draw [ultra thick, black, line cap=rect] (333,-37) -- (333,-42);
\fill [white] (347,-37) -- (347,-42) -- (355,-42) -- (355,-37) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-37) -- (347,-42);
\draw [ultra thick, black, line cap=rect] (355,-37) -- (355,-42);
\fill [white] (367,-37) -- (367,-42) -- (375,-42) -- (375,-37) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-37) -- (367,-42);
\draw [ultra thick, black, line cap=rect] (375,-37) -- (375,-42);
\draw [ultra thick, lightgray] (1,-42) -- (1,-37);
\draw [ultra thick, lightgray] (383,-42) -- (383,-37);
\draw [thin, black] (7,-42) -- (7,-37);
\draw [thin, black] (287,-42) -- (287,-37);
\draw [thin, black] (3,-42) -- (3,-37);
\draw [thin, black] (289,-42) -- (289,-37);
\fill [white] (325,-42) -- (325,-51) -- (333,-51) -- (333,-42) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-42) -- (325,-51);
\draw [ultra thick, black, line cap=rect] (333,-42) -- (333,-51);
\fill [white] (347,-42) -- (347,-51) -- (355,-51) -- (355,-42) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-42) -- (347,-51);
\draw [ultra thick, black, line cap=rect] (355,-42) -- (355,-51);
\fill [white] (367,-42) -- (367,-51) -- (375,-51) -- (375,-42) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-42) -- (367,-51);
\draw [ultra thick, black, line cap=rect] (375,-42) -- (375,-51);
\draw [ultra thick, lightgray] (1,-51) -- (1,-42);
\draw [ultra thick, lightgray] (383,-51) -- (383,-42);
\draw [thin, black] (11,-51) -- (11,-42);
\draw [thin, black] (285,-51) -- (285,-42);
\draw [thin, black] (7,-51) -- (7,-42);
\draw [thin, black] (287,-51) -- (287,-42);
\draw [thin, black] (3,-51) -- (3,-42);
\draw [thin, black] (289,-51) -- (289,-42);
\fill [white] (34,-43) -- (34,-51) -- (42,-51) -- (42,-43) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-43) -- (34,-51);
\draw [ultra thick, black, line cap=rect] (42,-43) -- (42,-51);
\draw [ultra thick, black, line cap=rect] (34,-43) -- (42,-43);
\begin{pgfonlayer}{frontmost}
\draw [black] (38,-48) node{\smash{$\ml[t]{\mrot{\victim{v}}}$}};
\end{pgfonlayer}
\fill [white] (44,-43) -- (44,-51) -- (170,-51) -- (170,-43) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-43) -- (44,-51);
\draw [ultra thick, black, line cap=rect] (170,-43) -- (170,-51);
\draw [ultra thick, black, line cap=rect] (44,-43) -- (170,-43);
\begin{pgfonlayer}{frontmost}
\draw [black] (107,-48) node{\smash{$\ml[t]{\arena{A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v}{t}}$}};
\end{pgfonlayer}
\fill [white] (13,-43) -- (13,-51) -- (22,-51) -- (22,-43) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-43) -- (13,-51);
\draw [ultra thick, black, line cap=rect] (22,-43) -- (22,-51);
\draw [ultra thick, black, line cap=rect] (13,-43) -- (22,-43);
\begin{pgfonlayer}{frontmost}
\draw [black] (17,-48) node{\smash{$\ml[t]{\mrot{\iterstar[32]{i=0}．\treebin{i}{U_{i+32}}}}$}};
\end{pgfonlayer}
\fill [white] (174,-43) -- (174,-51) -- (283,-51) -- (283,-43) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-43) -- (174,-51);
\draw [ultra thick, black, line cap=rect] (283,-43) -- (283,-51);
\draw [ultra thick, black, line cap=rect] (174,-43) -- (283,-43);
\begin{pgfonlayer}{frontmost}
\draw [black] (228,-48) node{\smash{$\ml[t]{\topchunk{t}}$}};
\end{pgfonlayer}
\fill [white] (24,-43) -- (24,-51) -- (32,-51) -- (32,-43) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-43) -- (24,-51);
\draw [ultra thick, black, line cap=rect] (32,-43) -- (32,-51);
\draw [ultra thick, black, line cap=rect] (24,-43) -- (32,-43);
\begin{pgfonlayer}{frontmost}
\draw [black] (28,-48) node{\smash{$\ml[t]{\mrot{\iterstar[32]{i=0}．\smallbin{i}{U_i}}}$}};
\end{pgfonlayer}
\fill [white] (24,-51) -- (24,-53) -- (32,-53) -- (32,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-51) -- (24,-53);
\draw [ultra thick, black, line cap=rect] (32,-51) -- (32,-53);
\fill [white] (174,-51) -- (174,-53) -- (283,-53) -- (283,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-51) -- (174,-53);
\draw [ultra thick, black, line cap=rect] (283,-51) -- (283,-53);
\fill [white] (13,-51) -- (13,-53) -- (22,-53) -- (22,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-51) -- (13,-53);
\draw [ultra thick, black, line cap=rect] (22,-51) -- (22,-53);
\fill [white] (44,-51) -- (44,-53) -- (170,-53) -- (170,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-51) -- (44,-53);
\draw [ultra thick, black, line cap=rect] (170,-51) -- (170,-53);
\fill [white] (34,-51) -- (34,-53) -- (42,-53) -- (42,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-51) -- (34,-53);
\draw [ultra thick, black, line cap=rect] (42,-51) -- (42,-53);
\fill [white] (325,-51) -- (325,-53) -- (333,-53) -- (333,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-51) -- (325,-53);
\draw [ultra thick, black, line cap=rect] (333,-51) -- (333,-53);
\fill [white] (347,-51) -- (347,-53) -- (355,-53) -- (355,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-51) -- (347,-53);
\draw [ultra thick, black, line cap=rect] (355,-51) -- (355,-53);
\fill [white] (367,-51) -- (367,-53) -- (375,-53) -- (375,-51) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-51) -- (367,-53);
\draw [ultra thick, black, line cap=rect] (375,-51) -- (375,-53);
\draw [ultra thick, lightgray] (1,-53) -- (1,-51);
\draw [ultra thick, lightgray] (383,-53) -- (383,-51);
\draw [thin, black] (11,-53) -- (11,-51);
\draw [thin, black] (285,-53) -- (285,-51);
\draw [thin, black] (7,-53) -- (7,-51);
\draw [thin, black] (287,-53) -- (287,-51);
\draw [thin, black] (3,-53) -- (3,-51);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (381,-52) -- (289,-52);
\draw [thin, black] (381,-53) -- (381,-52);
\draw [thin, black] (381,-52) -- (289,-52);
\draw [thin, black] (289,-52) -- (289,-51);
\end{pgfonlayer}
\fill [white] (24,-53) -- (24,-55) -- (32,-55) -- (32,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-53) -- (24,-55);
\draw [ultra thick, black, line cap=rect] (32,-53) -- (32,-55);
\fill [white] (174,-53) -- (174,-55) -- (283,-55) -- (283,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-53) -- (174,-55);
\draw [ultra thick, black, line cap=rect] (283,-53) -- (283,-55);
\fill [white] (13,-53) -- (13,-55) -- (22,-55) -- (22,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-53) -- (13,-55);
\draw [ultra thick, black, line cap=rect] (22,-53) -- (22,-55);
\fill [white] (44,-53) -- (44,-55) -- (170,-55) -- (170,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-53) -- (44,-55);
\draw [ultra thick, black, line cap=rect] (170,-53) -- (170,-55);
\fill [white] (34,-53) -- (34,-55) -- (42,-55) -- (42,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-53) -- (34,-55);
\draw [ultra thick, black, line cap=rect] (42,-53) -- (42,-55);
\fill [white] (325,-53) -- (325,-55) -- (333,-55) -- (333,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-53) -- (325,-55);
\draw [ultra thick, black, line cap=rect] (333,-53) -- (333,-55);
\fill [white] (347,-53) -- (347,-55) -- (355,-55) -- (355,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-53) -- (347,-55);
\draw [ultra thick, black, line cap=rect] (355,-53) -- (355,-55);
\fill [white] (367,-53) -- (367,-55) -- (375,-55) -- (375,-53) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-53) -- (367,-55);
\draw [ultra thick, black, line cap=rect] (375,-53) -- (375,-55);
\draw [ultra thick, lightgray] (1,-55) -- (1,-53);
\draw [ultra thick, lightgray] (383,-55) -- (383,-53);
\draw [thin, black] (3,-55) -- (3,-53);
\draw [thin, black] (381,-55) -- (381,-53);
\draw [thin, black] (11,-55) -- (11,-53);
\draw [thin, black] (285,-55) -- (285,-53);
\draw [thin, black] (7,-55) -- (7,-53);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (379,-54) -- (287,-54);
\draw [thin, black] (379,-55) -- (379,-54);
\draw [thin, black] (379,-54) -- (287,-54);
\draw [thin, black] (287,-54) -- (287,-53);
\end{pgfonlayer}
\fill [white] (24,-55) -- (24,-57) -- (32,-57) -- (32,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-55) -- (24,-57);
\draw [ultra thick, black, line cap=rect] (32,-55) -- (32,-57);
\fill [white] (174,-55) -- (174,-57) -- (283,-57) -- (283,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-55) -- (174,-57);
\draw [ultra thick, black, line cap=rect] (283,-55) -- (283,-57);
\fill [white] (13,-55) -- (13,-57) -- (22,-57) -- (22,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-55) -- (13,-57);
\draw [ultra thick, black, line cap=rect] (22,-55) -- (22,-57);
\fill [white] (44,-55) -- (44,-57) -- (170,-57) -- (170,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-55) -- (44,-57);
\draw [ultra thick, black, line cap=rect] (170,-55) -- (170,-57);
\fill [white] (34,-55) -- (34,-57) -- (42,-57) -- (42,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-55) -- (34,-57);
\draw [ultra thick, black, line cap=rect] (42,-55) -- (42,-57);
\fill [white] (325,-55) -- (325,-57) -- (333,-57) -- (333,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-55) -- (325,-57);
\draw [ultra thick, black, line cap=rect] (333,-55) -- (333,-57);
\fill [white] (347,-55) -- (347,-57) -- (355,-57) -- (355,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-55) -- (347,-57);
\draw [ultra thick, black, line cap=rect] (355,-55) -- (355,-57);
\fill [white] (367,-55) -- (367,-57) -- (375,-57) -- (375,-55) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-55) -- (367,-57);
\draw [ultra thick, black, line cap=rect] (375,-55) -- (375,-57);
\draw [ultra thick, lightgray] (1,-57) -- (1,-55);
\draw [ultra thick, lightgray] (383,-57) -- (383,-55);
\draw [thin, black] (7,-57) -- (7,-55);
\draw [thin, black] (379,-57) -- (379,-55);
\draw [thin, black] (3,-57) -- (3,-55);
\draw [thin, black] (381,-57) -- (381,-55);
\draw [thin, black] (11,-57) -- (11,-55);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (377,-56) -- (285,-56);
\draw [thin, black] (377,-57) -- (377,-56);
\draw [thin, black] (377,-56) -- (285,-56);
\draw [thin, black] (285,-56) -- (285,-55);
\end{pgfonlayer}
\fill [white] (24,-57) -- (24,-66) -- (32,-66) -- (32,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-57) -- (24,-66);
\draw [ultra thick, black, line cap=rect] (32,-57) -- (32,-66);
\fill [white] (13,-57) -- (13,-66) -- (22,-66) -- (22,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-57) -- (13,-66);
\draw [ultra thick, black, line cap=rect] (22,-57) -- (22,-66);
\fill [white] (44,-57) -- (44,-66) -- (170,-66) -- (170,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-57) -- (44,-66);
\draw [ultra thick, black, line cap=rect] (170,-57) -- (170,-66);
\fill [white] (34,-57) -- (34,-66) -- (42,-66) -- (42,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-57) -- (34,-66);
\draw [ultra thick, black, line cap=rect] (42,-57) -- (42,-66);
\fill [white] (367,-57) -- (367,-66) -- (375,-66) -- (375,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-57) -- (367,-66);
\draw [ultra thick, black, line cap=rect] (375,-57) -- (375,-66);
\draw [ultra thick, lightgray] (1,-66) -- (1,-57);
\draw [ultra thick, lightgray] (383,-66) -- (383,-57);
\draw [thin, black] (11,-66) -- (11,-57);
\draw [thin, black] (377,-66) -- (377,-57);
\draw [thin, black] (7,-66) -- (7,-57);
\draw [thin, black] (379,-66) -- (379,-57);
\draw [thin, black] (3,-66) -- (3,-57);
\draw [thin, black] (381,-66) -- (381,-57);
\fill [white] (174,-57) -- (174,-65) -- (283,-65) -- (283,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-57) -- (174,-65);
\draw [ultra thick, black, line cap=rect] (283,-57) -- (283,-65);
\draw [ultra thick, black, line cap=rect] (174,-65) -- (283,-65);
\fill [white] (347,-57) -- (347,-65) -- (355,-65) -- (355,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-57) -- (347,-65);
\draw [ultra thick, black, line cap=rect] (355,-57) -- (355,-65);
\draw [ultra thick, black, line cap=rect] (347,-65) -- (355,-65);
\fill [white] (325,-57) -- (325,-65) -- (333,-65) -- (333,-57) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-57) -- (325,-65);
\draw [ultra thick, black, line cap=rect] (333,-57) -- (333,-65);
\draw [ultra thick, black, line cap=rect] (325,-65) -- (333,-65);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (174,-72) rectangle (355,-66);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (174,-71) rectangle (355,-67);
\draw [black] (174,-69) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{topchunk}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (24,-66) -- (24,-72) -- (32,-72) -- (32,-66) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-66) -- (24,-72);
\draw [ultra thick, black, line cap=rect] (32,-66) -- (32,-72);
\fill [white] (13,-66) -- (13,-72) -- (22,-72) -- (22,-66) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-66) -- (13,-72);
\draw [ultra thick, black, line cap=rect] (22,-66) -- (22,-72);
\fill [white] (44,-66) -- (44,-72) -- (170,-72) -- (170,-66) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-66) -- (44,-72);
\draw [ultra thick, black, line cap=rect] (170,-66) -- (170,-72);
\fill [white] (34,-66) -- (34,-72) -- (42,-72) -- (42,-66) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-66) -- (34,-72);
\draw [ultra thick, black, line cap=rect] (42,-66) -- (42,-72);
\fill [white] (367,-66) -- (367,-72) -- (375,-72) -- (375,-66) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-66) -- (367,-72);
\draw [ultra thick, black, line cap=rect] (375,-66) -- (375,-72);
\draw [ultra thick, lightgray] (1,-72) -- (1,-66);
\draw [ultra thick, lightgray] (383,-72) -- (383,-66);
\draw [thin, black] (11,-72) -- (11,-66);
\draw [thin, black] (377,-72) -- (377,-66);
\draw [thin, black] (7,-72) -- (7,-66);
\draw [thin, black] (379,-72) -- (379,-66);
\draw [thin, black] (3,-72) -- (3,-66);
\draw [thin, black] (381,-72) -- (381,-66);
% Twisted (u,d,v,at,ax,au,av,x,y) to (au,av,d,v,at,y,ax,u,x).
\fill [white] (24,-72) -- (24,-72) -- (32,-72) -- (32,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-72) -- (24,-72);
\draw [ultra thick, black, line cap=rect] (32,-72) -- (32,-72);
\fill [white] (13,-72) -- (13,-72) -- (22,-72) -- (22,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-72) -- (13,-72);
\draw [ultra thick, black, line cap=rect] (22,-72) -- (22,-72);
\fill [white] (44,-72) -- (44,-72) -- (170,-72) -- (170,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-72) -- (44,-72);
\draw [ultra thick, black, line cap=rect] (170,-72) -- (170,-72);
\fill [white] (34,-72) -- (34,-72) -- (42,-72) -- (42,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-72) -- (34,-72);
\draw [ultra thick, black, line cap=rect] (42,-72) -- (42,-72);
\fill [white] (367,-72) -- (367,-72) -- (375,-72) -- (375,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-72) -- (367,-72);
\draw [ultra thick, black, line cap=rect] (375,-72) -- (375,-72);
\draw [ultra thick, lightgray] (1,-72) -- (1,-72);
\draw [ultra thick, lightgray] (383,-72) -- (383,-72);
\draw [thin, black] (11,-72) -- (11,-72);
\draw [thin, black] (377,-72) -- (377,-72);
\draw [thin, black] (7,-72) -- (7,-72);
\draw [thin, black] (379,-72) -- (379,-72);
\draw [thin, black] (3,-72) -- (3,-72);
\draw [thin, black] (381,-72) -- (381,-72);
\fill [white] (24,-72) -- (24,-116) -- (32,-116) -- (32,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-72) -- (24,-116);
\draw [ultra thick, black, line cap=rect] (32,-72) -- (32,-116);
\fill [white] (13,-72) -- (13,-116) -- (22,-116) -- (22,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-72) -- (13,-116);
\draw [ultra thick, black, line cap=rect] (22,-72) -- (22,-116);
\fill [white] (34,-72) -- (34,-116) -- (42,-116) -- (42,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-72) -- (34,-116);
\draw [ultra thick, black, line cap=rect] (42,-72) -- (42,-116);
\fill [white] (367,-72) -- (367,-116) -- (375,-116) -- (375,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-72) -- (367,-116);
\draw [ultra thick, black, line cap=rect] (375,-72) -- (375,-116);
\draw [ultra thick, lightgray] (1,-116) -- (1,-72);
\draw [ultra thick, lightgray] (383,-116) -- (383,-72);
\draw [thin, black] (11,-116) -- (11,-72);
\draw [thin, black] (377,-116) -- (377,-72);
\draw [thin, black] (7,-116) -- (7,-72);
\draw [thin, black] (379,-116) -- (379,-72);
\draw [thin, black] (3,-116) -- (3,-72);
\draw [thin, black] (381,-116) -- (381,-72);
\fill [white] (44,-72) -- (44,-115) -- (170,-115) -- (170,-72) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-72) -- (44,-115);
\draw [ultra thick, black, line cap=rect] (170,-72) -- (170,-115);
\draw [ultra thick, black, line cap=rect] (44,-115) -- (170,-115);
\fill [white] (174,-73) -- (174,-116) -- (182,-116) -- (182,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-73) -- (174,-116);
\draw [ultra thick, black, line cap=rect] (182,-73) -- (182,-116);
\draw [ultra thick, black, line cap=rect] (174,-73) -- (182,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (178,-78) node{\smash{$\ml[t]{\mrot{\cinuse{\tt top}{0}}}$}};
\end{pgfonlayer}
\fill [white] (194,-73) -- (194,-116) -- (260,-116) -- (260,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-73) -- (194,-116);
\draw [ultra thick, black, line cap=rect] (260,-73) -- (260,-116);
\draw [ultra thick, black, line cap=rect] (194,-73) -- (260,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (227,-78) node{\smash{$\ml[t]{\iterstar[{\tt topsize}\partialdiv{\sf w}]{i=2}．{\tt top}+i{\sf w}↦\underscore}$}};
\end{pgfonlayer}
\fill [white] (184,-73) -- (184,-116) -- (192,-116) -- (192,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-73) -- (184,-116);
\draw [ultra thick, black, line cap=rect] (192,-73) -- (192,-116);
\draw [ultra thick, black, line cap=rect] (184,-73) -- (192,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (188,-78) node{\smash{$\ml[t]{\mrot{\size{\tt top}{\tt topsize}}}$}};
\end{pgfonlayer}
\fill [white] (262,-73) -- (262,-115) -- (283,-115) -- (283,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (262,-73) -- (262,-115);
\draw [ultra thick, black, line cap=rect] (283,-73) -- (283,-115);
\draw [ultra thick, black, line cap=rect] (262,-73) -- (283,-73);
\draw [ultra thick, black, line cap=rect] (262,-115) -- (283,-115);
\begin{pgfonlayer}{frontmost}
\draw [black] (272,-78) node{\smash{$\ml[t]{\mrot{t=\{{\tt top}+2{\sf w}↦_{\sf u} \\ {\tt topsize}-1{\sf w}\}}}$}};
\end{pgfonlayer}
\fill [white] (347,-73) -- (347,-116) -- (355,-116) -- (355,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-73) -- (347,-116);
\draw [ultra thick, black, line cap=rect] (355,-73) -- (355,-116);
\draw [ultra thick, black, line cap=rect] (347,-73) -- (355,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (351,-78) node{\smash{$\ml[t]{\mrot{{\tt nb}=\ceil[8]{{\tt bytes}+{\sf w}}}}$}};
\end{pgfonlayer}
\fill [white] (325,-73) -- (325,-116) -- (333,-116) -- (333,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-73) -- (325,-116);
\draw [ultra thick, black, line cap=rect] (333,-73) -- (333,-116);
\draw [ultra thick, black, line cap=rect] (325,-73) -- (333,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (329,-78) node{\smash{$\ml[t]{\ditto}$}};
\end{pgfonlayer}
\fill [white] (315,-73) -- (315,-116) -- (323,-116) -- (323,-73) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-73) -- (315,-116);
\draw [ultra thick, black, line cap=rect] (323,-73) -- (323,-116);
\draw [ultra thick, black, line cap=rect] (315,-73) -- (323,-73);
\begin{pgfonlayer}{frontmost}
\draw [black] (319,-78) node{\smash{$\ml[t]{\mrot{{\tt topsize}\partialdiv 8 ∈ [0\upto2^{29}-8]}}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (3,-117) -- (381,-117);
\draw [thin, black] (3,-117) -- (381,-117);
\draw [thin, black] (3,-116) -- (3,-117);
\draw [thin, black] (381,-117) -- (381,-116);
\end{pgfonlayer}
\fill [white] (315,-116) -- (315,-118) -- (323,-118) -- (323,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-116) -- (315,-118);
\draw [ultra thick, black, line cap=rect] (323,-116) -- (323,-118);
\fill [white] (184,-116) -- (184,-118) -- (192,-118) -- (192,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-116) -- (184,-118);
\draw [ultra thick, black, line cap=rect] (192,-116) -- (192,-118);
\fill [white] (194,-116) -- (194,-118) -- (260,-118) -- (260,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-116) -- (194,-118);
\draw [ultra thick, black, line cap=rect] (260,-116) -- (260,-118);
\fill [white] (174,-116) -- (174,-118) -- (182,-118) -- (182,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-116) -- (174,-118);
\draw [ultra thick, black, line cap=rect] (182,-116) -- (182,-118);
\fill [white] (24,-116) -- (24,-118) -- (32,-118) -- (32,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-116) -- (24,-118);
\draw [ultra thick, black, line cap=rect] (32,-116) -- (32,-118);
\fill [white] (13,-116) -- (13,-118) -- (22,-118) -- (22,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-116) -- (13,-118);
\draw [ultra thick, black, line cap=rect] (22,-116) -- (22,-118);
\fill [white] (34,-116) -- (34,-118) -- (42,-118) -- (42,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-116) -- (34,-118);
\draw [ultra thick, black, line cap=rect] (42,-116) -- (42,-118);
\fill [white] (325,-116) -- (325,-118) -- (333,-118) -- (333,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-116) -- (325,-118);
\draw [ultra thick, black, line cap=rect] (333,-116) -- (333,-118);
\fill [white] (347,-116) -- (347,-118) -- (355,-118) -- (355,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-116) -- (347,-118);
\draw [ultra thick, black, line cap=rect] (355,-116) -- (355,-118);
\fill [white] (367,-116) -- (367,-118) -- (375,-118) -- (375,-116) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-116) -- (367,-118);
\draw [ultra thick, black, line cap=rect] (375,-116) -- (375,-118);
\draw [ultra thick, lightgray] (1,-118) -- (1,-116);
\draw [ultra thick, lightgray] (383,-118) -- (383,-116);
\draw [thin, black] (11,-118) -- (11,-116);
\draw [thin, black] (377,-118) -- (377,-116);
\draw [thin, black] (7,-118) -- (7,-116);
\draw [thin, black] (379,-118) -- (379,-116);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (44,-124) rectangle (170,-118);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (44,-123) rectangle (170,-119);
\draw [black] (44,-121) node[anchor=west]{\begin{tabular}{@{}l@{}}Witness $t$ at $\{{\tt top}+2{\sf w}↦_{\sf u} {\tt topsize}-1{\sf w}\}$.\end{tabular}};
\end{pgfonlayer}
\fill [white] (315,-118) -- (315,-124) -- (323,-124) -- (323,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-118) -- (315,-124);
\draw [ultra thick, black, line cap=rect] (323,-118) -- (323,-124);
\fill [white] (184,-118) -- (184,-124) -- (192,-124) -- (192,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-118) -- (184,-124);
\draw [ultra thick, black, line cap=rect] (192,-118) -- (192,-124);
\fill [white] (194,-118) -- (194,-124) -- (260,-124) -- (260,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-118) -- (194,-124);
\draw [ultra thick, black, line cap=rect] (260,-118) -- (260,-124);
\fill [white] (174,-118) -- (174,-124) -- (182,-124) -- (182,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-118) -- (174,-124);
\draw [ultra thick, black, line cap=rect] (182,-118) -- (182,-124);
\fill [white] (24,-118) -- (24,-124) -- (32,-124) -- (32,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-118) -- (24,-124);
\draw [ultra thick, black, line cap=rect] (32,-118) -- (32,-124);
\fill [white] (13,-118) -- (13,-124) -- (22,-124) -- (22,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-118) -- (13,-124);
\draw [ultra thick, black, line cap=rect] (22,-118) -- (22,-124);
\fill [white] (34,-118) -- (34,-124) -- (42,-124) -- (42,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-118) -- (34,-124);
\draw [ultra thick, black, line cap=rect] (42,-118) -- (42,-124);
\fill [white] (325,-118) -- (325,-124) -- (333,-124) -- (333,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-118) -- (325,-124);
\draw [ultra thick, black, line cap=rect] (333,-118) -- (333,-124);
\fill [white] (347,-118) -- (347,-124) -- (355,-124) -- (355,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-118) -- (347,-124);
\draw [ultra thick, black, line cap=rect] (355,-118) -- (355,-124);
\fill [white] (367,-118) -- (367,-124) -- (375,-124) -- (375,-118) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-118) -- (367,-124);
\draw [ultra thick, black, line cap=rect] (375,-118) -- (375,-124);
\draw [ultra thick, lightgray] (1,-124) -- (1,-118);
\draw [ultra thick, lightgray] (383,-124) -- (383,-118);
\draw [thin, black] (11,-124) -- (11,-118);
\draw [thin, black] (377,-124) -- (377,-118);
\draw [thin, black] (7,-124) -- (7,-118);
\draw [thin, black] (379,-124) -- (379,-118);
\fill [white] (174,-124) -- (174,-134) -- (182,-134) -- (182,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-124) -- (174,-134);
\draw [ultra thick, black, line cap=rect] (182,-124) -- (182,-134);
\fill [white] (24,-124) -- (24,-134) -- (32,-134) -- (32,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-124) -- (24,-134);
\draw [ultra thick, black, line cap=rect] (32,-124) -- (32,-134);
\fill [white] (13,-124) -- (13,-134) -- (22,-134) -- (22,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-124) -- (13,-134);
\draw [ultra thick, black, line cap=rect] (22,-124) -- (22,-134);
\fill [white] (34,-124) -- (34,-134) -- (42,-134) -- (42,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-124) -- (34,-134);
\draw [ultra thick, black, line cap=rect] (42,-124) -- (42,-134);
\fill [white] (367,-124) -- (367,-134) -- (375,-134) -- (375,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-124) -- (367,-134);
\draw [ultra thick, black, line cap=rect] (375,-124) -- (375,-134);
\draw [ultra thick, lightgray] (1,-134) -- (1,-124);
\draw [ultra thick, lightgray] (383,-134) -- (383,-124);
\draw [thin, black] (11,-134) -- (11,-124);
\draw [thin, black] (377,-134) -- (377,-124);
\draw [thin, black] (7,-134) -- (7,-124);
\draw [thin, black] (379,-134) -- (379,-124);
\fill [white] (44,-125) -- (44,-133) -- (170,-133) -- (170,-125) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-125) -- (44,-133);
\draw [ultra thick, black, line cap=rect] (170,-125) -- (170,-133);
\draw [ultra thick, black, line cap=rect] (44,-125) -- (170,-125);
\draw [ultra thick, black, line cap=rect] (44,-133) -- (170,-133);
\begin{pgfonlayer}{frontmost}
\draw [black] (107,-130) node{\smash{$\ml[t]{\arena{A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v}{\{{\tt top}+2{\sf w}↦_{\sf u} {\tt topsize}-1{\sf w}\}}}$}};
\end{pgfonlayer}
\fill [white] (194,-124) -- (194,-133) -- (260,-133) -- (260,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-124) -- (194,-133);
\draw [ultra thick, black, line cap=rect] (260,-124) -- (260,-133);
\draw [ultra thick, black, line cap=rect] (194,-133) -- (260,-133);
\fill [white] (184,-124) -- (184,-133) -- (192,-133) -- (192,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-124) -- (184,-133);
\draw [ultra thick, black, line cap=rect] (192,-124) -- (192,-133);
\draw [ultra thick, black, line cap=rect] (184,-133) -- (192,-133);
\fill [white] (315,-124) -- (315,-133) -- (323,-133) -- (323,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-124) -- (315,-133);
\draw [ultra thick, black, line cap=rect] (323,-124) -- (323,-133);
\draw [ultra thick, black, line cap=rect] (315,-133) -- (323,-133);
\fill [white] (325,-124) -- (325,-133) -- (333,-133) -- (333,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (325,-124) -- (325,-133);
\draw [ultra thick, black, line cap=rect] (333,-124) -- (333,-133);
\draw [ultra thick, black, line cap=rect] (325,-133) -- (333,-133);
\fill [white] (347,-124) -- (347,-133) -- (355,-133) -- (355,-124) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-124) -- (347,-133);
\draw [ultra thick, black, line cap=rect] (355,-124) -- (355,-133);
\draw [ultra thick, black, line cap=rect] (347,-133) -- (355,-133);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (44,-140) rectangle (355,-134);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (44,-139) rectangle (355,-135);
\draw [black] (44,-137) node[anchor=west]{\code{\begin{tabular}{@{}l@{}}size\_t rsize = gm->topsize -= nb;\end{tabular}}};
\end{pgfonlayer}
\fill [white] (174,-134) -- (174,-140) -- (182,-140) -- (182,-134) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-134) -- (174,-140);
\draw [ultra thick, black, line cap=rect] (182,-134) -- (182,-140);
\fill [white] (24,-134) -- (24,-140) -- (32,-140) -- (32,-134) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-134) -- (24,-140);
\draw [ultra thick, black, line cap=rect] (32,-134) -- (32,-140);
\fill [white] (13,-134) -- (13,-140) -- (22,-140) -- (22,-134) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-134) -- (13,-140);
\draw [ultra thick, black, line cap=rect] (22,-134) -- (22,-140);
\fill [white] (34,-134) -- (34,-140) -- (42,-140) -- (42,-134) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-134) -- (34,-140);
\draw [ultra thick, black, line cap=rect] (42,-134) -- (42,-140);
\fill [white] (367,-134) -- (367,-140) -- (375,-140) -- (375,-134) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-134) -- (367,-140);
\draw [ultra thick, black, line cap=rect] (375,-134) -- (375,-140);
\draw [ultra thick, lightgray] (1,-140) -- (1,-134);
\draw [ultra thick, lightgray] (383,-140) -- (383,-134);
\draw [thin, black] (11,-140) -- (11,-134);
\draw [thin, black] (377,-140) -- (377,-134);
\draw [thin, black] (7,-140) -- (7,-134);
\draw [thin, black] (379,-140) -- (379,-134);
\fill [white] (174,-140) -- (174,-150) -- (182,-150) -- (182,-140) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-140) -- (174,-150);
\draw [ultra thick, black, line cap=rect] (182,-140) -- (182,-150);
\fill [white] (24,-140) -- (24,-150) -- (32,-150) -- (32,-140) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-140) -- (24,-150);
\draw [ultra thick, black, line cap=rect] (32,-140) -- (32,-150);
\fill [white] (13,-140) -- (13,-150) -- (22,-150) -- (22,-140) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-140) -- (13,-150);
\draw [ultra thick, black, line cap=rect] (22,-140) -- (22,-150);
\fill [white] (34,-140) -- (34,-150) -- (42,-150) -- (42,-140) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-140) -- (34,-150);
\draw [ultra thick, black, line cap=rect] (42,-140) -- (42,-150);
\fill [white] (367,-140) -- (367,-150) -- (375,-150) -- (375,-140) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-140) -- (367,-150);
\draw [ultra thick, black, line cap=rect] (375,-140) -- (375,-150);
\draw [ultra thick, lightgray] (1,-150) -- (1,-140);
\draw [ultra thick, lightgray] (383,-150) -- (383,-140);
\draw [thin, black] (11,-150) -- (11,-140);
\draw [thin, black] (377,-150) -- (377,-140);
\draw [thin, black] (7,-150) -- (7,-140);
\draw [thin, black] (379,-150) -- (379,-140);
\fill [white] (44,-141) -- (44,-149) -- (170,-149) -- (170,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-141) -- (44,-149);
\draw [ultra thick, black, line cap=rect] (170,-141) -- (170,-149);
\draw [ultra thick, black, line cap=rect] (44,-141) -- (170,-141);
\draw [ultra thick, black, line cap=rect] (44,-149) -- (170,-149);
\begin{pgfonlayer}{frontmost}
\draw [black] (107,-146) node{\smash{$\ml[t]{\arena{A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v}{\{{\tt top}+2{\sf w}↦_{\sf u} {\tt topsize}+{\tt nb}-1{\sf w}\}}}$}};
\end{pgfonlayer}
\fill [white] (194,-141) -- (194,-150) -- (260,-150) -- (260,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-141) -- (194,-150);
\draw [ultra thick, black, line cap=rect] (260,-141) -- (260,-150);
\draw [ultra thick, black, line cap=rect] (194,-141) -- (260,-141);
\begin{pgfonlayer}{frontmost}
\draw [black] (227,-146) node{\smash{$\ml[t]{\iterstar[({\tt topsize}+{\tt nb})\partialdiv{\sf w}]{i=2}．{\tt top}+i{\sf w}↦\underscore}$}};
\end{pgfonlayer}
\fill [white] (184,-141) -- (184,-150) -- (192,-150) -- (192,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-141) -- (184,-150);
\draw [ultra thick, black, line cap=rect] (192,-141) -- (192,-150);
\draw [ultra thick, black, line cap=rect] (184,-141) -- (192,-141);
\begin{pgfonlayer}{frontmost}
\draw [black] (188,-146) node{\smash{$\ml[t]{\mrot{\size{\tt top}{{\tt topsize}+{\tt nb}}}}$}};
\end{pgfonlayer}
\fill [white] (315,-141) -- (315,-150) -- (323,-150) -- (323,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-141) -- (315,-150);
\draw [ultra thick, black, line cap=rect] (323,-141) -- (323,-150);
\draw [ultra thick, black, line cap=rect] (315,-141) -- (323,-141);
\begin{pgfonlayer}{frontmost}
\draw [black] (319,-146) node{\smash{$\ml[t]{\mrot{{\tt topsize}\partialdiv 8 ∈ (0\upto2^{29}-8]}}$}};
\end{pgfonlayer}
\fill [white] (335,-141) -- (335,-150) -- (343,-150) -- (343,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-141) -- (335,-150);
\draw [ultra thick, black, line cap=rect] (343,-141) -- (343,-150);
\draw [ultra thick, black, line cap=rect] (335,-141) -- (343,-141);
\begin{pgfonlayer}{frontmost}
\draw [black] (339,-146) node{\smash{$\ml[t]{\mrot{{\tt topsize}={\tt rsize}}}$}};
\end{pgfonlayer}
\fill [white] (347,-141) -- (347,-150) -- (355,-150) -- (355,-141) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-141) -- (347,-150);
\draw [ultra thick, black, line cap=rect] (355,-141) -- (355,-150);
\draw [ultra thick, black, line cap=rect] (347,-141) -- (355,-141);
\begin{pgfonlayer}{frontmost}
\draw [black] (351,-146) node{\smash{$\ml[t]{\ditto}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (44,-156) rectangle (170,-150);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (44,-155) rectangle (170,-151);
\draw [black] (44,-153) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{arena}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (335,-150) -- (335,-156) -- (343,-156) -- (343,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-150) -- (335,-156);
\draw [ultra thick, black, line cap=rect] (343,-150) -- (343,-156);
\fill [white] (315,-150) -- (315,-156) -- (323,-156) -- (323,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-150) -- (315,-156);
\draw [ultra thick, black, line cap=rect] (323,-150) -- (323,-156);
\fill [white] (184,-150) -- (184,-156) -- (192,-156) -- (192,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-150) -- (184,-156);
\draw [ultra thick, black, line cap=rect] (192,-150) -- (192,-156);
\fill [white] (194,-150) -- (194,-156) -- (260,-156) -- (260,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-150) -- (194,-156);
\draw [ultra thick, black, line cap=rect] (260,-150) -- (260,-156);
\fill [white] (174,-150) -- (174,-156) -- (182,-156) -- (182,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-150) -- (174,-156);
\draw [ultra thick, black, line cap=rect] (182,-150) -- (182,-156);
\fill [white] (24,-150) -- (24,-156) -- (32,-156) -- (32,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-150) -- (24,-156);
\draw [ultra thick, black, line cap=rect] (32,-150) -- (32,-156);
\fill [white] (13,-150) -- (13,-156) -- (22,-156) -- (22,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-150) -- (13,-156);
\draw [ultra thick, black, line cap=rect] (22,-150) -- (22,-156);
\fill [white] (34,-150) -- (34,-156) -- (42,-156) -- (42,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-150) -- (34,-156);
\draw [ultra thick, black, line cap=rect] (42,-150) -- (42,-156);
\fill [white] (347,-150) -- (347,-156) -- (355,-156) -- (355,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-150) -- (347,-156);
\draw [ultra thick, black, line cap=rect] (355,-150) -- (355,-156);
\fill [white] (367,-150) -- (367,-156) -- (375,-156) -- (375,-150) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-150) -- (367,-156);
\draw [ultra thick, black, line cap=rect] (375,-150) -- (375,-156);
\draw [ultra thick, lightgray] (1,-156) -- (1,-150);
\draw [ultra thick, lightgray] (383,-156) -- (383,-150);
\draw [thin, black] (11,-156) -- (11,-150);
\draw [thin, black] (377,-156) -- (377,-150);
\draw [thin, black] (7,-156) -- (7,-150);
\draw [thin, black] (379,-156) -- (379,-150);
% Twisted (z,aa) to (aa,z).
\fill [white] (335,-156) -- (335,-156) -- (343,-156) -- (343,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-156) -- (335,-156);
\draw [ultra thick, black, line cap=rect] (343,-156) -- (343,-156);
\fill [white] (315,-156) -- (315,-156) -- (323,-156) -- (323,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-156) -- (315,-156);
\draw [ultra thick, black, line cap=rect] (323,-156) -- (323,-156);
\fill [white] (184,-156) -- (184,-156) -- (192,-156) -- (192,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-156) -- (184,-156);
\draw [ultra thick, black, line cap=rect] (192,-156) -- (192,-156);
\fill [white] (194,-156) -- (194,-156) -- (260,-156) -- (260,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-156) -- (194,-156);
\draw [ultra thick, black, line cap=rect] (260,-156) -- (260,-156);
\fill [white] (174,-156) -- (174,-156) -- (182,-156) -- (182,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-156) -- (174,-156);
\draw [ultra thick, black, line cap=rect] (182,-156) -- (182,-156);
\fill [white] (24,-156) -- (24,-156) -- (32,-156) -- (32,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-156) -- (24,-156);
\draw [ultra thick, black, line cap=rect] (32,-156) -- (32,-156);
\fill [white] (13,-156) -- (13,-156) -- (22,-156) -- (22,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-156) -- (13,-156);
\draw [ultra thick, black, line cap=rect] (22,-156) -- (22,-156);
\fill [white] (34,-156) -- (34,-156) -- (42,-156) -- (42,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-156) -- (34,-156);
\draw [ultra thick, black, line cap=rect] (42,-156) -- (42,-156);
\fill [white] (347,-156) -- (347,-156) -- (355,-156) -- (355,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-156) -- (347,-156);
\draw [ultra thick, black, line cap=rect] (355,-156) -- (355,-156);
\fill [white] (367,-156) -- (367,-156) -- (375,-156) -- (375,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-156) -- (367,-156);
\draw [ultra thick, black, line cap=rect] (375,-156) -- (375,-156);
\draw [ultra thick, lightgray] (1,-156) -- (1,-156);
\draw [ultra thick, lightgray] (383,-156) -- (383,-156);
\draw [thin, black] (11,-156) -- (11,-156);
\draw [thin, black] (377,-156) -- (377,-156);
\draw [thin, black] (7,-156) -- (7,-156);
\draw [thin, black] (379,-156) -- (379,-156);
\fill [white] (335,-156) -- (335,-221) -- (343,-221) -- (343,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-156) -- (335,-221);
\draw [ultra thick, black, line cap=rect] (343,-156) -- (343,-221);
\fill [white] (315,-156) -- (315,-221) -- (323,-221) -- (323,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-156) -- (315,-221);
\draw [ultra thick, black, line cap=rect] (323,-156) -- (323,-221);
\fill [white] (24,-156) -- (24,-221) -- (32,-221) -- (32,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-156) -- (24,-221);
\draw [ultra thick, black, line cap=rect] (32,-156) -- (32,-221);
\fill [white] (13,-156) -- (13,-221) -- (22,-221) -- (22,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-156) -- (13,-221);
\draw [ultra thick, black, line cap=rect] (22,-156) -- (22,-221);
\fill [white] (34,-156) -- (34,-221) -- (42,-221) -- (42,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-156) -- (34,-221);
\draw [ultra thick, black, line cap=rect] (42,-156) -- (42,-221);
\fill [white] (347,-156) -- (347,-221) -- (355,-221) -- (355,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-156) -- (347,-221);
\draw [ultra thick, black, line cap=rect] (355,-156) -- (355,-221);
\fill [white] (367,-156) -- (367,-221) -- (375,-221) -- (375,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-156) -- (367,-221);
\draw [ultra thick, black, line cap=rect] (375,-156) -- (375,-221);
\draw [ultra thick, lightgray] (1,-221) -- (1,-156);
\draw [ultra thick, lightgray] (383,-221) -- (383,-156);
\draw [thin, black] (11,-221) -- (11,-156);
\draw [thin, black] (377,-221) -- (377,-156);
\draw [thin, black] (7,-221) -- (7,-156);
\draw [thin, black] (379,-221) -- (379,-156);
\fill [white] (56,-157) -- (56,-220) -- (69,-220) -- (69,-157) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-157) -- (56,-220);
\draw [ultra thick, black, line cap=rect] (69,-157) -- (69,-220);
\draw [ultra thick, black, line cap=rect] (56,-157) -- (69,-157);
\draw [ultra thick, black, line cap=rect] (56,-220) -- (69,-220);
\begin{pgfonlayer}{frontmost}
\draw [black] (62,-162) node{\smash{$\ml[t]{\mrot{\emph{coalesced}(A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v{}\\{} \uplus \{{\tt top}+2{\sf w}↦_{\sf u}{\tt topsize}+{\tt nb}-1{\sf w}\})}}$}};
\end{pgfonlayer}
\fill [white] (83,-157) -- (83,-220) -- (170,-220) -- (170,-157) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-157) -- (83,-220);
\draw [ultra thick, black, line cap=rect] (170,-157) -- (170,-220);
\draw [ultra thick, black, line cap=rect] (83,-157) -- (170,-157);
\draw [ultra thick, black, line cap=rect] (83,-220) -- (170,-220);
\begin{pgfonlayer}{frontmost}
\draw [black] (126,-162) node{\smash{$\ml[t]{\emph{block}^*({\tt start},{\tt top}, A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v)}$}};
\end{pgfonlayer}
\fill [white] (44,-157) -- (44,-221) -- (52,-221) -- (52,-157) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-157) -- (44,-221);
\draw [ultra thick, black, line cap=rect] (52,-157) -- (52,-221);
\draw [ultra thick, black, line cap=rect] (44,-157) -- (52,-157);
\begin{pgfonlayer}{frontmost}
\draw [black] (48,-162) node{\smash{$\ml[t]{\mrot{\prevfoot{\tt start}{\underscore}}}$}};
\end{pgfonlayer}
\fill [white] (71,-157) -- (71,-221) -- (79,-221) -- (79,-157) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-157) -- (71,-221);
\draw [ultra thick, black, line cap=rect] (79,-157) -- (79,-221);
\draw [ultra thick, black, line cap=rect] (71,-157) -- (79,-157);
\begin{pgfonlayer}{frontmost}
\draw [black] (75,-162) node{\smash{$\ml[t]{\mrot{\pinuse{\tt start}{1}}}$}};
\end{pgfonlayer}
\fill [white] (194,-156) -- (194,-220) -- (260,-220) -- (260,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-156) -- (194,-220);
\draw [ultra thick, black, line cap=rect] (260,-156) -- (260,-220);
\draw [ultra thick, black, line cap=rect] (194,-220) -- (260,-220);
\fill [white] (184,-156) -- (184,-220) -- (192,-220) -- (192,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-156) -- (184,-220);
\draw [ultra thick, black, line cap=rect] (192,-156) -- (192,-220);
\draw [ultra thick, black, line cap=rect] (184,-220) -- (192,-220);
\fill [white] (174,-156) -- (174,-220) -- (182,-220) -- (182,-156) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-156) -- (174,-220);
\draw [ultra thick, black, line cap=rect] (182,-156) -- (182,-220);
\draw [ultra thick, black, line cap=rect] (174,-220) -- (182,-220);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (56,-227) rectangle (260,-221);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (56,-226) rectangle (260,-222);
\draw [black] (56,-224) node[anchor=west]{\code{\begin{tabular}{@{}l@{}}mchunkptr p = gm->top;\end{tabular}}};
\end{pgfonlayer}
\fill [white] (71,-221) -- (71,-227) -- (79,-227) -- (79,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-221) -- (71,-227);
\draw [ultra thick, black, line cap=rect] (79,-221) -- (79,-227);
\fill [white] (44,-221) -- (44,-227) -- (52,-227) -- (52,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-221) -- (44,-227);
\draw [ultra thick, black, line cap=rect] (52,-221) -- (52,-227);
\fill [white] (335,-221) -- (335,-227) -- (343,-227) -- (343,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-221) -- (335,-227);
\draw [ultra thick, black, line cap=rect] (343,-221) -- (343,-227);
\fill [white] (315,-221) -- (315,-227) -- (323,-227) -- (323,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-221) -- (315,-227);
\draw [ultra thick, black, line cap=rect] (323,-221) -- (323,-227);
\fill [white] (24,-221) -- (24,-227) -- (32,-227) -- (32,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-221) -- (24,-227);
\draw [ultra thick, black, line cap=rect] (32,-221) -- (32,-227);
\fill [white] (13,-221) -- (13,-227) -- (22,-227) -- (22,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-221) -- (13,-227);
\draw [ultra thick, black, line cap=rect] (22,-221) -- (22,-227);
\fill [white] (34,-221) -- (34,-227) -- (42,-227) -- (42,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-221) -- (34,-227);
\draw [ultra thick, black, line cap=rect] (42,-221) -- (42,-227);
\fill [white] (347,-221) -- (347,-227) -- (355,-227) -- (355,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-221) -- (347,-227);
\draw [ultra thick, black, line cap=rect] (355,-221) -- (355,-227);
\fill [white] (367,-221) -- (367,-227) -- (375,-227) -- (375,-221) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-221) -- (367,-227);
\draw [ultra thick, black, line cap=rect] (375,-221) -- (375,-227);
\draw [ultra thick, lightgray] (1,-227) -- (1,-221);
\draw [ultra thick, lightgray] (383,-227) -- (383,-221);
\draw [thin, black] (11,-227) -- (11,-221);
\draw [thin, black] (377,-227) -- (377,-221);
\draw [thin, black] (7,-227) -- (7,-221);
\draw [thin, black] (379,-227) -- (379,-221);
\fill [white] (71,-227) -- (71,-237) -- (79,-237) -- (79,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-227) -- (71,-237);
\draw [ultra thick, black, line cap=rect] (79,-227) -- (79,-237);
\fill [white] (44,-227) -- (44,-237) -- (52,-237) -- (52,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-227) -- (44,-237);
\draw [ultra thick, black, line cap=rect] (52,-227) -- (52,-237);
\fill [white] (335,-227) -- (335,-237) -- (343,-237) -- (343,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-227) -- (335,-237);
\draw [ultra thick, black, line cap=rect] (343,-227) -- (343,-237);
\fill [white] (315,-227) -- (315,-237) -- (323,-237) -- (323,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-227) -- (315,-237);
\draw [ultra thick, black, line cap=rect] (323,-227) -- (323,-237);
\fill [white] (24,-227) -- (24,-237) -- (32,-237) -- (32,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-227) -- (24,-237);
\draw [ultra thick, black, line cap=rect] (32,-227) -- (32,-237);
\fill [white] (13,-227) -- (13,-237) -- (22,-237) -- (22,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-227) -- (13,-237);
\draw [ultra thick, black, line cap=rect] (22,-227) -- (22,-237);
\fill [white] (34,-227) -- (34,-237) -- (42,-237) -- (42,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-227) -- (34,-237);
\draw [ultra thick, black, line cap=rect] (42,-227) -- (42,-237);
\fill [white] (347,-227) -- (347,-237) -- (355,-237) -- (355,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-227) -- (347,-237);
\draw [ultra thick, black, line cap=rect] (355,-227) -- (355,-237);
\fill [white] (367,-227) -- (367,-237) -- (375,-237) -- (375,-227) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-227) -- (367,-237);
\draw [ultra thick, black, line cap=rect] (375,-227) -- (375,-237);
\draw [ultra thick, lightgray] (1,-237) -- (1,-227);
\draw [ultra thick, lightgray] (383,-237) -- (383,-227);
\draw [thin, black] (11,-237) -- (11,-227);
\draw [thin, black] (377,-237) -- (377,-227);
\draw [thin, black] (7,-237) -- (7,-227);
\draw [thin, black] (379,-237) -- (379,-227);
\fill [white] (56,-228) -- (56,-237) -- (69,-237) -- (69,-228) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-228) -- (56,-237);
\draw [ultra thick, black, line cap=rect] (69,-228) -- (69,-237);
\draw [ultra thick, black, line cap=rect] (56,-228) -- (69,-228);
\begin{pgfonlayer}{frontmost}
\draw [black] (62,-233) node{\smash{$\ml[t]{\mrot{\emph{coalesced}(A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v{}\\{} \uplus \{{\tt p}+2{\sf w}↦_{\sf u}{\tt topsize}+{\tt nb}-1{\sf w}\})}}$}};
\end{pgfonlayer}
\fill [white] (83,-228) -- (83,-237) -- (170,-237) -- (170,-228) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-228) -- (83,-237);
\draw [ultra thick, black, line cap=rect] (170,-228) -- (170,-237);
\draw [ultra thick, black, line cap=rect] (83,-228) -- (170,-228);
\begin{pgfonlayer}{frontmost}
\draw [black] (126,-233) node{\smash{$\ml[t]{\emph{block}^*({\tt start},{\tt p}, A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v)}$}};
\end{pgfonlayer}
\fill [white] (194,-228) -- (194,-236) -- (260,-236) -- (260,-228) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-228) -- (194,-236);
\draw [ultra thick, black, line cap=rect] (260,-228) -- (260,-236);
\draw [ultra thick, black, line cap=rect] (194,-228) -- (260,-228);
\draw [ultra thick, black, line cap=rect] (194,-236) -- (260,-236);
\begin{pgfonlayer}{frontmost}
\draw [black] (227,-233) node{\smash{$\ml[t]{\iterstar[({\tt topsize}+{\tt nb})\partialdiv{\sf w}]{i=2}．{\tt p}+i{\sf w}↦\underscore}$}};
\end{pgfonlayer}
\fill [white] (174,-228) -- (174,-237) -- (182,-237) -- (182,-228) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-228) -- (174,-237);
\draw [ultra thick, black, line cap=rect] (182,-228) -- (182,-237);
\draw [ultra thick, black, line cap=rect] (174,-228) -- (182,-228);
\begin{pgfonlayer}{frontmost}
\draw [black] (178,-233) node{\smash{$\ml[t]{\mrot{\cinuse{\tt p}{0}}}$}};
\end{pgfonlayer}
\fill [white] (184,-228) -- (184,-237) -- (192,-237) -- (192,-228) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-228) -- (184,-237);
\draw [ultra thick, black, line cap=rect] (192,-228) -- (192,-237);
\draw [ultra thick, black, line cap=rect] (184,-228) -- (192,-228);
\begin{pgfonlayer}{frontmost}
\draw [black] (188,-233) node{\smash{$\ml[t]{\mrot{\size{\tt p}{{\tt topsize}+{\tt nb}}}}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (194,-261) rectangle (260,-237);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (194,-260) rectangle (260,-238);
\draw [black] (194,-249) node[anchor=west]{\begin{tabular}{@{}l@{}}Split iteration at $\ceil{{\tt bytes}/{\sf w}}+2$ \\ and $\ceil{{\tt nb}/{\sf w}}+1$. Requires \\ ${\tt bytes}≥0$, ${\tt topsize}≥{\sf w}$, \\ and ${\tt nb}≥\ceil[{\sf w}]{{\tt bytes}+{\sf w}}$.\end{tabular}};
\end{pgfonlayer}
\fill [white] (71,-237) -- (71,-261) -- (79,-261) -- (79,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-237) -- (71,-261);
\draw [ultra thick, black, line cap=rect] (79,-237) -- (79,-261);
\fill [white] (44,-237) -- (44,-261) -- (52,-261) -- (52,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-237) -- (44,-261);
\draw [ultra thick, black, line cap=rect] (52,-237) -- (52,-261);
\fill [white] (83,-237) -- (83,-261) -- (170,-261) -- (170,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-237) -- (83,-261);
\draw [ultra thick, black, line cap=rect] (170,-237) -- (170,-261);
\fill [white] (56,-237) -- (56,-261) -- (69,-261) -- (69,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-237) -- (56,-261);
\draw [ultra thick, black, line cap=rect] (69,-237) -- (69,-261);
\fill [white] (335,-237) -- (335,-261) -- (343,-261) -- (343,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-237) -- (335,-261);
\draw [ultra thick, black, line cap=rect] (343,-237) -- (343,-261);
\fill [white] (315,-237) -- (315,-261) -- (323,-261) -- (323,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-237) -- (315,-261);
\draw [ultra thick, black, line cap=rect] (323,-237) -- (323,-261);
\fill [white] (184,-237) -- (184,-261) -- (192,-261) -- (192,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-237) -- (184,-261);
\draw [ultra thick, black, line cap=rect] (192,-237) -- (192,-261);
\fill [white] (174,-237) -- (174,-261) -- (182,-261) -- (182,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-237) -- (174,-261);
\draw [ultra thick, black, line cap=rect] (182,-237) -- (182,-261);
\fill [white] (24,-237) -- (24,-261) -- (32,-261) -- (32,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-237) -- (24,-261);
\draw [ultra thick, black, line cap=rect] (32,-237) -- (32,-261);
\fill [white] (13,-237) -- (13,-261) -- (22,-261) -- (22,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-237) -- (13,-261);
\draw [ultra thick, black, line cap=rect] (22,-237) -- (22,-261);
\fill [white] (34,-237) -- (34,-261) -- (42,-261) -- (42,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-237) -- (34,-261);
\draw [ultra thick, black, line cap=rect] (42,-237) -- (42,-261);
\fill [white] (347,-237) -- (347,-261) -- (355,-261) -- (355,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-237) -- (347,-261);
\draw [ultra thick, black, line cap=rect] (355,-237) -- (355,-261);
\fill [white] (367,-237) -- (367,-261) -- (375,-261) -- (375,-237) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-237) -- (367,-261);
\draw [ultra thick, black, line cap=rect] (375,-237) -- (375,-261);
\draw [ultra thick, lightgray] (1,-261) -- (1,-237);
\draw [ultra thick, lightgray] (383,-261) -- (383,-237);
\draw [thin, black] (11,-261) -- (11,-237);
\draw [thin, black] (377,-261) -- (377,-237);
\draw [thin, black] (7,-261) -- (7,-237);
\draw [thin, black] (379,-261) -- (379,-237);
\fill [white] (71,-261) -- (71,-280) -- (79,-280) -- (79,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-261) -- (71,-280);
\draw [ultra thick, black, line cap=rect] (79,-261) -- (79,-280);
\fill [white] (44,-261) -- (44,-280) -- (52,-280) -- (52,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-261) -- (44,-280);
\draw [ultra thick, black, line cap=rect] (52,-261) -- (52,-280);
\fill [white] (83,-261) -- (83,-280) -- (170,-280) -- (170,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-261) -- (83,-280);
\draw [ultra thick, black, line cap=rect] (170,-261) -- (170,-280);
\fill [white] (56,-261) -- (56,-280) -- (69,-280) -- (69,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-261) -- (56,-280);
\draw [ultra thick, black, line cap=rect] (69,-261) -- (69,-280);
\fill [white] (335,-261) -- (335,-280) -- (343,-280) -- (343,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-261) -- (335,-280);
\draw [ultra thick, black, line cap=rect] (343,-261) -- (343,-280);
\fill [white] (315,-261) -- (315,-280) -- (323,-280) -- (323,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-261) -- (315,-280);
\draw [ultra thick, black, line cap=rect] (323,-261) -- (323,-280);
\fill [white] (184,-261) -- (184,-280) -- (192,-280) -- (192,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-261) -- (184,-280);
\draw [ultra thick, black, line cap=rect] (192,-261) -- (192,-280);
\fill [white] (174,-261) -- (174,-280) -- (182,-280) -- (182,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-261) -- (174,-280);
\draw [ultra thick, black, line cap=rect] (182,-261) -- (182,-280);
\fill [white] (24,-261) -- (24,-280) -- (32,-280) -- (32,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-261) -- (24,-280);
\draw [ultra thick, black, line cap=rect] (32,-261) -- (32,-280);
\fill [white] (13,-261) -- (13,-280) -- (22,-280) -- (22,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-261) -- (13,-280);
\draw [ultra thick, black, line cap=rect] (22,-261) -- (22,-280);
\fill [white] (34,-261) -- (34,-280) -- (42,-280) -- (42,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-261) -- (34,-280);
\draw [ultra thick, black, line cap=rect] (42,-261) -- (42,-280);
\fill [white] (347,-261) -- (347,-280) -- (355,-280) -- (355,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-261) -- (347,-280);
\draw [ultra thick, black, line cap=rect] (355,-261) -- (355,-280);
\fill [white] (367,-261) -- (367,-280) -- (375,-280) -- (375,-261) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-261) -- (367,-280);
\draw [ultra thick, black, line cap=rect] (375,-261) -- (375,-280);
\draw [ultra thick, lightgray] (1,-280) -- (1,-261);
\draw [ultra thick, lightgray] (383,-280) -- (383,-261);
\draw [thin, black] (11,-280) -- (11,-261);
\draw [thin, black] (377,-280) -- (377,-261);
\draw [thin, black] (7,-280) -- (7,-261);
\draw [thin, black] (379,-280) -- (379,-261);
\fill [white] (247,-262) -- (247,-280) -- (260,-280) -- (260,-262) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-262) -- (247,-280);
\draw [ultra thick, black, line cap=rect] (260,-262) -- (260,-280);
\draw [ultra thick, black, line cap=rect] (247,-262) -- (260,-262);
\begin{pgfonlayer}{frontmost}
\draw [black] (253,-267) node{\smash{$\ml[t]{\mrot{\iterstar[\ceil{{\tt bytes}/{\sf w}}+2]{i=2}．{\tt p}+i{\sf w}↦\underscore}}$}};
\end{pgfonlayer}
\fill [white] (194,-262) -- (194,-280) -- (202,-280) -- (202,-262) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-262) -- (194,-280);
\draw [ultra thick, black, line cap=rect] (202,-262) -- (202,-280);
\draw [ultra thick, black, line cap=rect] (194,-262) -- (202,-262);
\begin{pgfonlayer}{frontmost}
\draw [black] (198,-267) node{\smash{$\ml[t]{\mrot{\iterstar[\ceil{{\tt nb}/{\sf w}}+1]{i=\ceil{{\tt bytes}/{\sf w}}+2}．{\tt p}+i{\sf w}↦\underscore}}$}};
\end{pgfonlayer}
\fill [white] (204,-262) -- (204,-279) -- (245,-279) -- (245,-262) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-262) -- (204,-279);
\draw [ultra thick, black, line cap=rect] (245,-262) -- (245,-279);
\draw [ultra thick, black, line cap=rect] (204,-262) -- (245,-262);
\draw [ultra thick, black, line cap=rect] (204,-279) -- (245,-279);
\begin{pgfonlayer}{frontmost}
\draw [black] (224,-267) node{\smash{$\ml[t]{\iterstar[({\tt topsize}+{\tt nb})\partialdiv{\sf w}]{i=\ceil{{\tt nb}/{\sf w}}+1}．{}\\{} {\tt p}+i{\sf w}↦\underscore}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (204,-292) rectangle (245,-280);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (204,-291) rectangle (245,-281);
\draw [black] (204,-286) node[anchor=west]{\begin{tabular}{@{}l@{}}Split again. Requires \\ ${\tt topsize}≥2{\sf w}$.\end{tabular}};
\end{pgfonlayer}
\fill [white] (194,-280) -- (194,-292) -- (202,-292) -- (202,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-280) -- (194,-292);
\draw [ultra thick, black, line cap=rect] (202,-280) -- (202,-292);
\fill [white] (247,-280) -- (247,-292) -- (260,-292) -- (260,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-280) -- (247,-292);
\draw [ultra thick, black, line cap=rect] (260,-280) -- (260,-292);
\fill [white] (71,-280) -- (71,-292) -- (79,-292) -- (79,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-280) -- (71,-292);
\draw [ultra thick, black, line cap=rect] (79,-280) -- (79,-292);
\fill [white] (44,-280) -- (44,-292) -- (52,-292) -- (52,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-280) -- (44,-292);
\draw [ultra thick, black, line cap=rect] (52,-280) -- (52,-292);
\fill [white] (83,-280) -- (83,-292) -- (170,-292) -- (170,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-280) -- (83,-292);
\draw [ultra thick, black, line cap=rect] (170,-280) -- (170,-292);
\fill [white] (56,-280) -- (56,-292) -- (69,-292) -- (69,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-280) -- (56,-292);
\draw [ultra thick, black, line cap=rect] (69,-280) -- (69,-292);
\fill [white] (335,-280) -- (335,-292) -- (343,-292) -- (343,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (335,-280) -- (335,-292);
\draw [ultra thick, black, line cap=rect] (343,-280) -- (343,-292);
\fill [white] (315,-280) -- (315,-292) -- (323,-292) -- (323,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (315,-280) -- (315,-292);
\draw [ultra thick, black, line cap=rect] (323,-280) -- (323,-292);
\fill [white] (184,-280) -- (184,-292) -- (192,-292) -- (192,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-280) -- (184,-292);
\draw [ultra thick, black, line cap=rect] (192,-280) -- (192,-292);
\fill [white] (174,-280) -- (174,-292) -- (182,-292) -- (182,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-280) -- (174,-292);
\draw [ultra thick, black, line cap=rect] (182,-280) -- (182,-292);
\fill [white] (24,-280) -- (24,-292) -- (32,-292) -- (32,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-280) -- (24,-292);
\draw [ultra thick, black, line cap=rect] (32,-280) -- (32,-292);
\fill [white] (13,-280) -- (13,-292) -- (22,-292) -- (22,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-280) -- (13,-292);
\draw [ultra thick, black, line cap=rect] (22,-280) -- (22,-292);
\fill [white] (34,-280) -- (34,-292) -- (42,-292) -- (42,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-280) -- (34,-292);
\draw [ultra thick, black, line cap=rect] (42,-280) -- (42,-292);
\fill [white] (347,-280) -- (347,-292) -- (355,-292) -- (355,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (347,-280) -- (347,-292);
\draw [ultra thick, black, line cap=rect] (355,-280) -- (355,-292);
\fill [white] (367,-280) -- (367,-292) -- (375,-292) -- (375,-280) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-280) -- (367,-292);
\draw [ultra thick, black, line cap=rect] (375,-280) -- (375,-292);
\draw [ultra thick, lightgray] (1,-292) -- (1,-280);
\draw [ultra thick, lightgray] (383,-292) -- (383,-280);
\draw [thin, black] (11,-292) -- (11,-280);
\draw [thin, black] (377,-292) -- (377,-280);
\draw [thin, black] (7,-292) -- (7,-280);
\draw [thin, black] (379,-292) -- (379,-280);
% Twisted (u,x,w,f,ba,n,p,m,o,k,as,r,ar) to (k,ar,x,w,f,ba,n,p,m,o,as,u,r).
\fill [white] (194,-292) -- (194,-338) -- (202,-338) -- (202,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-292) -- (194,-338);
\draw [ultra thick, black, line cap=rect] (202,-292) -- (202,-338);
\fill [white] (247,-292) .. controls (247,-324) and (340,-305) .. (340,-338) -- (353,-338) .. controls (353,-305) and (260,-324) .. (260,-292) -- cycle;
\draw [ultra thick, black] (247,-292) .. controls (247,-324) and (340,-305) .. (340,-338);
\draw [ultra thick, black] (260,-292) .. controls (260,-324) and (353,-305) .. (353,-338);
\fill [white] (71,-292) -- (71,-338) -- (79,-338) -- (79,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-292) -- (71,-338);
\draw [ultra thick, black, line cap=rect] (79,-292) -- (79,-338);
\fill [white] (44,-292) -- (44,-338) -- (52,-338) -- (52,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-292) -- (44,-338);
\draw [ultra thick, black, line cap=rect] (52,-292) -- (52,-338);
\fill [white] (83,-292) -- (83,-338) -- (170,-338) -- (170,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-292) -- (83,-338);
\draw [ultra thick, black, line cap=rect] (170,-292) -- (170,-338);
\fill [white] (56,-292) -- (56,-338) -- (69,-338) -- (69,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-292) -- (56,-338);
\draw [ultra thick, black, line cap=rect] (69,-292) -- (69,-338);
\fill [white] (335,-292) .. controls (335,-324) and (330,-305) .. (330,-338) -- (338,-338) .. controls (338,-305) and (343,-324) .. (343,-292) -- cycle;
\draw [ultra thick, black] (335,-292) .. controls (335,-324) and (330,-305) .. (330,-338);
\draw [ultra thick, black] (343,-292) .. controls (343,-324) and (338,-305) .. (338,-338);
\fill [white] (315,-292) .. controls (315,-324) and (320,-305) .. (320,-338) -- (328,-338) .. controls (328,-305) and (323,-324) .. (323,-292) -- cycle;
\draw [ultra thick, black] (315,-292) .. controls (315,-324) and (320,-305) .. (320,-338);
\draw [ultra thick, black] (323,-292) .. controls (323,-324) and (328,-305) .. (328,-338);
\fill [white] (184,-292) -- (184,-338) -- (192,-338) -- (192,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-292) -- (184,-338);
\draw [ultra thick, black, line cap=rect] (192,-292) -- (192,-338);
\fill [white] (174,-292) -- (174,-338) -- (182,-338) -- (182,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-292) -- (174,-338);
\draw [ultra thick, black, line cap=rect] (182,-292) -- (182,-338);
\fill [white] (24,-292) -- (24,-338) -- (32,-338) -- (32,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-292) -- (24,-338);
\draw [ultra thick, black, line cap=rect] (32,-292) -- (32,-338);
\fill [white] (13,-292) -- (13,-338) -- (22,-338) -- (22,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-292) -- (13,-338);
\draw [ultra thick, black, line cap=rect] (22,-292) -- (22,-338);
\fill [white] (34,-292) -- (34,-338) -- (42,-338) -- (42,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-292) -- (34,-338);
\draw [ultra thick, black, line cap=rect] (42,-292) -- (42,-338);
\fill [white] (347,-292) .. controls (347,-324) and (257,-305) .. (257,-338) -- (265,-338) .. controls (265,-305) and (355,-324) .. (355,-292) -- cycle;
\draw [ultra thick, black] (347,-292) .. controls (347,-324) and (257,-305) .. (257,-338);
\draw [ultra thick, black] (355,-292) .. controls (355,-324) and (265,-305) .. (265,-338);
\fill [white] (367,-292) -- (367,-338) -- (375,-338) -- (375,-292) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-292) -- (367,-338);
\draw [ultra thick, black, line cap=rect] (375,-292) -- (375,-338);
\draw [ultra thick, lightgray] (1,-338) -- (1,-292);
\draw [ultra thick, lightgray] (383,-338) -- (383,-292);
\draw [thin, black] (11,-338) -- (11,-292);
\draw [thin, black] (377,-338) -- (377,-292);
\draw [thin, black] (7,-338) -- (7,-292);
\draw [thin, black] (379,-338) -- (379,-292);
\fill [white] (204,-293) -- (204,-338) -- (235,-338) -- (235,-293) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-293) -- (204,-338);
\draw [ultra thick, black, line cap=rect] (235,-293) -- (235,-338);
\draw [ultra thick, black, line cap=rect] (204,-293) -- (235,-293);
\begin{pgfonlayer}{frontmost}
\draw [black] (219,-298) node{\smash{$\ml[t]{\mrot{{\tt p}+{\tt nb}+1{\sf w}↦\underscore}}$}};
\end{pgfonlayer}
\fill [white] (237,-293) -- (237,-338) -- (245,-338) -- (245,-293) -- cycle;
\draw [ultra thick, black, line cap=rect] (237,-293) -- (237,-338);
\draw [ultra thick, black, line cap=rect] (245,-293) -- (245,-338);
\draw [ultra thick, black, line cap=rect] (237,-293) -- (245,-293);
\begin{pgfonlayer}{frontmost}
\draw [black] (241,-298) node{\smash{$\ml[t]{\mrot{\iterstar[{\tt topsize}\partialdiv{\sf w}]{i=2}．{\tt p}+{\tt nb}+i{\sf w}↦\underscore}}$}};
\end{pgfonlayer}
% Twisted (ax,k) to (k,ax).
\fill [white] (194,-338) -- (194,-347) -- (202,-347) -- (202,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-338) -- (194,-347);
\draw [ultra thick, black, line cap=rect] (202,-338) -- (202,-347);
\fill [white] (340,-338) -- (340,-347) -- (353,-347) -- (353,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-338) -- (340,-347);
\draw [ultra thick, black, line cap=rect] (353,-338) -- (353,-347);
\fill [white] (71,-338) -- (71,-347) -- (79,-347) -- (79,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-338) -- (71,-347);
\draw [ultra thick, black, line cap=rect] (79,-338) -- (79,-347);
\fill [white] (44,-338) -- (44,-347) -- (52,-347) -- (52,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-338) -- (44,-347);
\draw [ultra thick, black, line cap=rect] (52,-338) -- (52,-347);
\fill [white] (83,-338) -- (83,-347) -- (170,-347) -- (170,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-338) -- (83,-347);
\draw [ultra thick, black, line cap=rect] (170,-338) -- (170,-347);
\fill [white] (56,-338) -- (56,-347) -- (69,-347) -- (69,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-338) -- (56,-347);
\draw [ultra thick, black, line cap=rect] (69,-338) -- (69,-347);
\fill [white] (330,-338) -- (330,-347) -- (338,-347) -- (338,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-338) -- (330,-347);
\draw [ultra thick, black, line cap=rect] (338,-338) -- (338,-347);
\fill [white] (320,-338) -- (320,-347) -- (328,-347) -- (328,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-338) -- (320,-347);
\draw [ultra thick, black, line cap=rect] (328,-338) -- (328,-347);
\fill [white] (184,-338) -- (184,-347) -- (192,-347) -- (192,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-338) -- (184,-347);
\draw [ultra thick, black, line cap=rect] (192,-338) -- (192,-347);
\fill [white] (174,-338) -- (174,-347) -- (182,-347) -- (182,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-338) -- (174,-347);
\draw [ultra thick, black, line cap=rect] (182,-338) -- (182,-347);
\fill [white] (24,-338) -- (24,-347) -- (32,-347) -- (32,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-338) -- (24,-347);
\draw [ultra thick, black, line cap=rect] (32,-338) -- (32,-347);
\fill [white] (13,-338) -- (13,-347) -- (22,-347) -- (22,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-338) -- (13,-347);
\draw [ultra thick, black, line cap=rect] (22,-338) -- (22,-347);
\fill [white] (34,-338) -- (34,-347) -- (42,-347) -- (42,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-338) -- (34,-347);
\draw [ultra thick, black, line cap=rect] (42,-338) -- (42,-347);
\fill [white] (257,-338) -- (257,-347) -- (265,-347) -- (265,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-338) -- (257,-347);
\draw [ultra thick, black, line cap=rect] (265,-338) -- (265,-347);
\fill [white] (367,-338) -- (367,-347) -- (375,-347) -- (375,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-338) -- (367,-347);
\draw [ultra thick, black, line cap=rect] (375,-338) -- (375,-347);
\draw [ultra thick, lightgray] (1,-347) -- (1,-338);
\draw [ultra thick, lightgray] (383,-347) -- (383,-338);
\draw [thin, black] (11,-347) -- (11,-338);
\draw [thin, black] (377,-347) -- (377,-338);
\draw [thin, black] (7,-347) -- (7,-338);
\draw [thin, black] (379,-347) -- (379,-338);
\fill [white] (204,-338) -- (204,-346) -- (235,-346) -- (235,-338) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-338) -- (204,-346);
\draw [ultra thick, black, line cap=rect] (235,-338) -- (235,-346);
\draw [ultra thick, black, line cap=rect] (204,-346) -- (235,-346);
\fill [white] (237,-338) .. controls (237,-343) and (247,-340) .. (247,-346) -- (255,-346) .. controls (255,-340) and (245,-343) .. (245,-338) -- cycle;
\draw [ultra thick, black] (237,-338) .. controls (237,-343) and (247,-340) .. (247,-346);
\draw [ultra thick, black] (245,-338) .. controls (245,-343) and (255,-340) .. (255,-346);
\draw [ultra thick, black, line cap=rect] (247,-346) -- (255,-346);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (204,-359) rectangle (255,-347);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (204,-358) rectangle (255,-348);
\draw [black] (204,-353) node[anchor=west]{\code{\begin{tabular}{@{}l@{}}mchunkptr r = gm->top =\\chunk\_plus\_offset(p, nb);\end{tabular}}};
\end{pgfonlayer}
\fill [white] (194,-347) -- (194,-359) -- (202,-359) -- (202,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-347) -- (194,-359);
\draw [ultra thick, black, line cap=rect] (202,-347) -- (202,-359);
\fill [white] (340,-347) -- (340,-359) -- (353,-359) -- (353,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-347) -- (340,-359);
\draw [ultra thick, black, line cap=rect] (353,-347) -- (353,-359);
\fill [white] (71,-347) -- (71,-359) -- (79,-359) -- (79,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-347) -- (71,-359);
\draw [ultra thick, black, line cap=rect] (79,-347) -- (79,-359);
\fill [white] (44,-347) -- (44,-359) -- (52,-359) -- (52,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-347) -- (44,-359);
\draw [ultra thick, black, line cap=rect] (52,-347) -- (52,-359);
\fill [white] (83,-347) -- (83,-359) -- (170,-359) -- (170,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-347) -- (83,-359);
\draw [ultra thick, black, line cap=rect] (170,-347) -- (170,-359);
\fill [white] (56,-347) -- (56,-359) -- (69,-359) -- (69,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-347) -- (56,-359);
\draw [ultra thick, black, line cap=rect] (69,-347) -- (69,-359);
\fill [white] (330,-347) -- (330,-359) -- (338,-359) -- (338,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-347) -- (330,-359);
\draw [ultra thick, black, line cap=rect] (338,-347) -- (338,-359);
\fill [white] (320,-347) -- (320,-359) -- (328,-359) -- (328,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-347) -- (320,-359);
\draw [ultra thick, black, line cap=rect] (328,-347) -- (328,-359);
\fill [white] (184,-347) -- (184,-359) -- (192,-359) -- (192,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-347) -- (184,-359);
\draw [ultra thick, black, line cap=rect] (192,-347) -- (192,-359);
\fill [white] (174,-347) -- (174,-359) -- (182,-359) -- (182,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-347) -- (174,-359);
\draw [ultra thick, black, line cap=rect] (182,-347) -- (182,-359);
\fill [white] (24,-347) -- (24,-359) -- (32,-359) -- (32,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-347) -- (24,-359);
\draw [ultra thick, black, line cap=rect] (32,-347) -- (32,-359);
\fill [white] (13,-347) -- (13,-359) -- (22,-359) -- (22,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-347) -- (13,-359);
\draw [ultra thick, black, line cap=rect] (22,-347) -- (22,-359);
\fill [white] (34,-347) -- (34,-359) -- (42,-359) -- (42,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-347) -- (34,-359);
\draw [ultra thick, black, line cap=rect] (42,-347) -- (42,-359);
\fill [white] (257,-347) -- (257,-359) -- (265,-359) -- (265,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-347) -- (257,-359);
\draw [ultra thick, black, line cap=rect] (265,-347) -- (265,-359);
\fill [white] (367,-347) -- (367,-359) -- (375,-359) -- (375,-347) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-347) -- (367,-359);
\draw [ultra thick, black, line cap=rect] (375,-347) -- (375,-359);
\draw [ultra thick, lightgray] (1,-359) -- (1,-347);
\draw [ultra thick, lightgray] (383,-359) -- (383,-347);
\draw [thin, black] (11,-359) -- (11,-347);
\draw [thin, black] (377,-359) -- (377,-347);
\draw [thin, black] (7,-359) -- (7,-347);
\draw [thin, black] (379,-359) -- (379,-347);
\fill [white] (194,-359) -- (194,-399) -- (202,-399) -- (202,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-359) -- (194,-399);
\draw [ultra thick, black, line cap=rect] (202,-359) -- (202,-399);
\fill [white] (340,-359) -- (340,-399) -- (353,-399) -- (353,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-359) -- (340,-399);
\draw [ultra thick, black, line cap=rect] (353,-359) -- (353,-399);
\fill [white] (44,-359) -- (44,-399) -- (52,-399) -- (52,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-359) -- (44,-399);
\draw [ultra thick, black, line cap=rect] (52,-359) -- (52,-399);
\fill [white] (330,-359) -- (330,-399) -- (338,-399) -- (338,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-359) -- (330,-399);
\draw [ultra thick, black, line cap=rect] (338,-359) -- (338,-399);
\fill [white] (320,-359) -- (320,-399) -- (328,-399) -- (328,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-359) -- (320,-399);
\draw [ultra thick, black, line cap=rect] (328,-359) -- (328,-399);
\fill [white] (184,-359) -- (184,-399) -- (192,-399) -- (192,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-359) -- (184,-399);
\draw [ultra thick, black, line cap=rect] (192,-359) -- (192,-399);
\fill [white] (174,-359) -- (174,-399) -- (182,-399) -- (182,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-359) -- (174,-399);
\draw [ultra thick, black, line cap=rect] (182,-359) -- (182,-399);
\fill [white] (24,-359) -- (24,-399) -- (32,-399) -- (32,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-359) -- (24,-399);
\draw [ultra thick, black, line cap=rect] (32,-359) -- (32,-399);
\fill [white] (13,-359) -- (13,-399) -- (22,-399) -- (22,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-359) -- (13,-399);
\draw [ultra thick, black, line cap=rect] (22,-359) -- (22,-399);
\fill [white] (34,-359) -- (34,-399) -- (42,-399) -- (42,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-359) -- (34,-399);
\draw [ultra thick, black, line cap=rect] (42,-359) -- (42,-399);
\fill [white] (257,-359) -- (257,-399) -- (265,-399) -- (265,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-359) -- (257,-399);
\draw [ultra thick, black, line cap=rect] (265,-359) -- (265,-399);
\fill [white] (367,-359) -- (367,-399) -- (375,-399) -- (375,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-359) -- (367,-399);
\draw [ultra thick, black, line cap=rect] (375,-359) -- (375,-399);
\draw [ultra thick, lightgray] (1,-399) -- (1,-359);
\draw [ultra thick, lightgray] (383,-399) -- (383,-359);
\draw [thin, black] (11,-399) -- (11,-359);
\draw [thin, black] (377,-399) -- (377,-359);
\draw [thin, black] (7,-399) -- (7,-359);
\draw [thin, black] (379,-399) -- (379,-359);
\fill [white] (204,-360) -- (204,-398) -- (235,-398) -- (235,-360) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-360) -- (204,-398);
\draw [ultra thick, black, line cap=rect] (235,-360) -- (235,-398);
\draw [ultra thick, black, line cap=rect] (204,-360) -- (235,-360);
\draw [ultra thick, black, line cap=rect] (204,-398) -- (235,-398);
\begin{pgfonlayer}{frontmost}
\draw [black] (219,-365) node{\smash{$\ml[t]{{\tt top}+1{\sf w}↦\underscore}$}};
\end{pgfonlayer}
\fill [white] (247,-360) -- (247,-399) -- (255,-399) -- (255,-360) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-360) -- (247,-399);
\draw [ultra thick, black, line cap=rect] (255,-360) -- (255,-399);
\draw [ultra thick, black, line cap=rect] (247,-360) -- (255,-360);
\begin{pgfonlayer}{frontmost}
\draw [black] (251,-365) node{\smash{$\ml[t]{\mrot{\iterstar[{\tt topsize}\partialdiv{\sf w}]{i=2}．{\tt top}+i{\sf w}↦\underscore}}$}};
\end{pgfonlayer}
\fill [white] (237,-360) -- (237,-398) -- (245,-398) -- (245,-360) -- cycle;
\draw [ultra thick, black, line cap=rect] (237,-360) -- (237,-398);
\draw [ultra thick, black, line cap=rect] (245,-360) -- (245,-398);
\draw [ultra thick, black, line cap=rect] (237,-360) -- (245,-360);
\draw [ultra thick, black, line cap=rect] (237,-398) -- (245,-398);
\begin{pgfonlayer}{frontmost}
\draw [black] (241,-365) node{\smash{$\ml[t]{\mrot{{\tt top} = {\tt r} = {\tt p}+{\tt nb}}}$}};
\end{pgfonlayer}
\fill [white] (71,-359) -- (71,-398) -- (79,-398) -- (79,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-359) -- (71,-398);
\draw [ultra thick, black, line cap=rect] (79,-359) -- (79,-398);
\draw [ultra thick, black, line cap=rect] (71,-398) -- (79,-398);
\fill [white] (56,-359) -- (56,-398) -- (69,-398) -- (69,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-359) -- (56,-398);
\draw [ultra thick, black, line cap=rect] (69,-359) -- (69,-398);
\draw [ultra thick, black, line cap=rect] (56,-398) -- (69,-398);
\fill [white] (83,-359) -- (83,-398) -- (170,-398) -- (170,-359) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-359) -- (83,-398);
\draw [ultra thick, black, line cap=rect] (170,-359) -- (170,-398);
\draw [ultra thick, black, line cap=rect] (83,-398) -- (170,-398);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (56,-411) rectangle (170,-399);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (56,-410) rectangle (170,-400);
\draw [black] (56,-405) node[anchor=west]{\begin{tabular}{@{}l@{}}Extract $\pinuse{\tt p}{1}$.\end{tabular}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (174,-411) rectangle (245,-399);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (174,-410) rectangle (245,-400);
\draw [black] (174,-405) node[anchor=west]{\code{\begin{tabular}{@{}l@{}}r->head = rsize | PINUSE\_BIT; \\ \mbox{\rm//Requires $8|{\tt rsize}$.}\end{tabular}}};
\end{pgfonlayer}
\fill [white] (247,-399) -- (247,-411) -- (255,-411) -- (255,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-399) -- (247,-411);
\draw [ultra thick, black, line cap=rect] (255,-399) -- (255,-411);
\fill [white] (194,-399) -- (194,-411) -- (202,-411) -- (202,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-399) -- (194,-411);
\draw [ultra thick, black, line cap=rect] (202,-399) -- (202,-411);
\fill [white] (340,-399) -- (340,-411) -- (353,-411) -- (353,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-399) -- (340,-411);
\draw [ultra thick, black, line cap=rect] (353,-399) -- (353,-411);
\fill [white] (44,-399) -- (44,-411) -- (52,-411) -- (52,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-399) -- (44,-411);
\draw [ultra thick, black, line cap=rect] (52,-399) -- (52,-411);
\fill [white] (330,-399) -- (330,-411) -- (338,-411) -- (338,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-399) -- (330,-411);
\draw [ultra thick, black, line cap=rect] (338,-399) -- (338,-411);
\fill [white] (320,-399) -- (320,-411) -- (328,-411) -- (328,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-399) -- (320,-411);
\draw [ultra thick, black, line cap=rect] (328,-399) -- (328,-411);
\fill [white] (184,-399) -- (184,-411) -- (192,-411) -- (192,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-399) -- (184,-411);
\draw [ultra thick, black, line cap=rect] (192,-399) -- (192,-411);
\fill [white] (174,-399) -- (174,-411) -- (182,-411) -- (182,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-399) -- (174,-411);
\draw [ultra thick, black, line cap=rect] (182,-399) -- (182,-411);
\fill [white] (24,-399) -- (24,-411) -- (32,-411) -- (32,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-399) -- (24,-411);
\draw [ultra thick, black, line cap=rect] (32,-399) -- (32,-411);
\fill [white] (13,-399) -- (13,-411) -- (22,-411) -- (22,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-399) -- (13,-411);
\draw [ultra thick, black, line cap=rect] (22,-399) -- (22,-411);
\fill [white] (34,-399) -- (34,-411) -- (42,-411) -- (42,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-399) -- (34,-411);
\draw [ultra thick, black, line cap=rect] (42,-399) -- (42,-411);
\fill [white] (257,-399) -- (257,-411) -- (265,-411) -- (265,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-399) -- (257,-411);
\draw [ultra thick, black, line cap=rect] (265,-399) -- (265,-411);
\fill [white] (367,-399) -- (367,-411) -- (375,-411) -- (375,-399) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-399) -- (367,-411);
\draw [ultra thick, black, line cap=rect] (375,-399) -- (375,-411);
\draw [ultra thick, lightgray] (1,-411) -- (1,-399);
\draw [ultra thick, lightgray] (383,-411) -- (383,-399);
\draw [thin, black] (11,-411) -- (11,-399);
\draw [thin, black] (377,-411) -- (377,-399);
\draw [thin, black] (7,-411) -- (7,-399);
\draw [thin, black] (379,-411) -- (379,-399);
% Twisted (z,ab,ae,af,ai,aj,ak,al,ag,ah) to (ae,af,ai,aj,ak,al,ag,ah,ab,z).
\fill [white] (247,-411) -- (247,-411) -- (255,-411) -- (255,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-411) -- (247,-411);
\draw [ultra thick, black, line cap=rect] (255,-411) -- (255,-411);
\fill [white] (194,-411) -- (194,-411) -- (202,-411) -- (202,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-411) -- (194,-411);
\draw [ultra thick, black, line cap=rect] (202,-411) -- (202,-411);
\fill [white] (340,-411) -- (340,-411) -- (353,-411) -- (353,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-411) -- (340,-411);
\draw [ultra thick, black, line cap=rect] (353,-411) -- (353,-411);
\fill [white] (44,-411) -- (44,-411) -- (52,-411) -- (52,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-411) -- (44,-411);
\draw [ultra thick, black, line cap=rect] (52,-411) -- (52,-411);
\fill [white] (330,-411) -- (330,-411) -- (338,-411) -- (338,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-411) -- (330,-411);
\draw [ultra thick, black, line cap=rect] (338,-411) -- (338,-411);
\fill [white] (320,-411) -- (320,-411) -- (328,-411) -- (328,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-411) -- (320,-411);
\draw [ultra thick, black, line cap=rect] (328,-411) -- (328,-411);
\fill [white] (184,-411) -- (184,-411) -- (192,-411) -- (192,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-411) -- (184,-411);
\draw [ultra thick, black, line cap=rect] (192,-411) -- (192,-411);
\fill [white] (174,-411) -- (174,-411) -- (182,-411) -- (182,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-411) -- (174,-411);
\draw [ultra thick, black, line cap=rect] (182,-411) -- (182,-411);
\fill [white] (24,-411) -- (24,-411) -- (32,-411) -- (32,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-411) -- (24,-411);
\draw [ultra thick, black, line cap=rect] (32,-411) -- (32,-411);
\fill [white] (13,-411) -- (13,-411) -- (22,-411) -- (22,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-411) -- (13,-411);
\draw [ultra thick, black, line cap=rect] (22,-411) -- (22,-411);
\fill [white] (34,-411) -- (34,-411) -- (42,-411) -- (42,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-411) -- (34,-411);
\draw [ultra thick, black, line cap=rect] (42,-411) -- (42,-411);
\fill [white] (257,-411) -- (257,-411) -- (265,-411) -- (265,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-411) -- (257,-411);
\draw [ultra thick, black, line cap=rect] (265,-411) -- (265,-411);
\fill [white] (367,-411) -- (367,-411) -- (375,-411) -- (375,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-411) -- (367,-411);
\draw [ultra thick, black, line cap=rect] (375,-411) -- (375,-411);
\draw [ultra thick, lightgray] (1,-411) -- (1,-411);
\draw [ultra thick, lightgray] (383,-411) -- (383,-411);
\draw [thin, black] (11,-411) -- (11,-411);
\draw [thin, black] (377,-411) -- (377,-411);
\draw [thin, black] (7,-411) -- (7,-411);
\draw [thin, black] (379,-411) -- (379,-411);
\fill [white] (247,-411) -- (247,-437) -- (255,-437) -- (255,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (247,-411) -- (247,-437);
\draw [ultra thick, black, line cap=rect] (255,-411) -- (255,-437);
\fill [white] (194,-411) -- (194,-437) -- (202,-437) -- (202,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-411) -- (194,-437);
\draw [ultra thick, black, line cap=rect] (202,-411) -- (202,-437);
\fill [white] (340,-411) -- (340,-437) -- (353,-437) -- (353,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-411) -- (340,-437);
\draw [ultra thick, black, line cap=rect] (353,-411) -- (353,-437);
\fill [white] (44,-411) -- (44,-437) -- (52,-437) -- (52,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-411) -- (44,-437);
\draw [ultra thick, black, line cap=rect] (52,-411) -- (52,-437);
\fill [white] (330,-411) -- (330,-437) -- (338,-437) -- (338,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-411) -- (330,-437);
\draw [ultra thick, black, line cap=rect] (338,-411) -- (338,-437);
\fill [white] (320,-411) -- (320,-437) -- (328,-437) -- (328,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-411) -- (320,-437);
\draw [ultra thick, black, line cap=rect] (328,-411) -- (328,-437);
\fill [white] (184,-411) -- (184,-437) -- (192,-437) -- (192,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-411) -- (184,-437);
\draw [ultra thick, black, line cap=rect] (192,-411) -- (192,-437);
\fill [white] (174,-411) -- (174,-437) -- (182,-437) -- (182,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-411) -- (174,-437);
\draw [ultra thick, black, line cap=rect] (182,-411) -- (182,-437);
\fill [white] (24,-411) -- (24,-437) -- (32,-437) -- (32,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-411) -- (24,-437);
\draw [ultra thick, black, line cap=rect] (32,-411) -- (32,-437);
\fill [white] (13,-411) -- (13,-437) -- (22,-437) -- (22,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-411) -- (13,-437);
\draw [ultra thick, black, line cap=rect] (22,-411) -- (22,-437);
\fill [white] (34,-411) -- (34,-437) -- (42,-437) -- (42,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-411) -- (34,-437);
\draw [ultra thick, black, line cap=rect] (42,-411) -- (42,-437);
\fill [white] (257,-411) -- (257,-437) -- (265,-437) -- (265,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (257,-411) -- (257,-437);
\draw [ultra thick, black, line cap=rect] (265,-411) -- (265,-437);
\fill [white] (367,-411) -- (367,-437) -- (375,-437) -- (375,-411) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-411) -- (367,-437);
\draw [ultra thick, black, line cap=rect] (375,-411) -- (375,-437);
\draw [ultra thick, lightgray] (1,-437) -- (1,-411);
\draw [ultra thick, lightgray] (383,-437) -- (383,-411);
\draw [thin, black] (11,-437) -- (11,-411);
\draw [thin, black] (377,-437) -- (377,-411);
\draw [thin, black] (7,-437) -- (7,-411);
\draw [thin, black] (379,-437) -- (379,-411);
\fill [white] (237,-412) -- (237,-437) -- (245,-437) -- (245,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (237,-412) -- (237,-437);
\draw [ultra thick, black, line cap=rect] (245,-412) -- (245,-437);
\draw [ultra thick, black, line cap=rect] (237,-412) -- (245,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (241,-417) node{\smash{$\ml[t]{\mrot{{\tt top}={\tt p}+{\tt nb}}}$}};
\end{pgfonlayer}
\fill [white] (56,-412) -- (56,-437) -- (69,-437) -- (69,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-412) -- (56,-437);
\draw [ultra thick, black, line cap=rect] (69,-412) -- (69,-437);
\draw [ultra thick, black, line cap=rect] (56,-412) -- (69,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (62,-417) node{\smash{$\ml[t]{\ditto}$}};
\end{pgfonlayer}
\fill [white] (71,-412) -- (71,-437) -- (158,-437) -- (158,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-412) -- (71,-437);
\draw [ultra thick, black, line cap=rect] (158,-412) -- (158,-437);
\draw [ultra thick, black, line cap=rect] (71,-412) -- (158,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (114,-417) node{\smash{$\ml[t]{\pinuse{\tt p}{1} \magicwand (\pinuse{\tt start}{1}  *  {}\\{} \emph{block}^*({\tt start},{\tt p}, A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v))}$}};
\end{pgfonlayer}
\fill [white] (162,-412) -- (162,-437) -- (170,-437) -- (170,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (162,-412) -- (162,-437);
\draw [ultra thick, black, line cap=rect] (170,-412) -- (170,-437);
\draw [ultra thick, black, line cap=rect] (162,-412) -- (170,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (166,-417) node{\smash{$\ml[t]{\mrot{\pinuse{\tt p}{1}}}$}};
\end{pgfonlayer}
\fill [white] (224,-412) -- (224,-437) -- (235,-437) -- (235,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (224,-412) -- (224,-437);
\draw [ultra thick, black, line cap=rect] (235,-412) -- (235,-437);
\draw [ultra thick, black, line cap=rect] (224,-412) -- (235,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (229,-417) node{\smash{$\ml[t]{\mrot{\size{\tt top}{\tt rsize}}}$}};
\end{pgfonlayer}
\fill [white] (214,-412) -- (214,-437) -- (222,-437) -- (222,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (214,-412) -- (214,-437);
\draw [ultra thick, black, line cap=rect] (222,-412) -- (222,-437);
\draw [ultra thick, black, line cap=rect] (214,-412) -- (222,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (218,-417) node{\smash{$\ml[t]{\mrot{\cinuse{\tt top}{0}}}$}};
\end{pgfonlayer}
\fill [white] (204,-412) -- (204,-437) -- (212,-437) -- (212,-412) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-412) -- (204,-437);
\draw [ultra thick, black, line cap=rect] (212,-412) -- (212,-437);
\draw [ultra thick, black, line cap=rect] (204,-412) -- (212,-412);
\begin{pgfonlayer}{frontmost}
\draw [black] (208,-417) node{\smash{$\ml[t]{\mrot{\pinuse{\tt top}{1}}}$}};
\end{pgfonlayer}
% Twisted (at,y,k,ax,ar) to (k,ar,at,y,ax).
\fill [white] (204,-437) -- (204,-463) -- (212,-463) -- (212,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-437) -- (204,-463);
\draw [ultra thick, black, line cap=rect] (212,-437) -- (212,-463);
\fill [white] (194,-437) -- (194,-463) -- (202,-463) -- (202,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-437) -- (194,-463);
\draw [ultra thick, black, line cap=rect] (202,-437) -- (202,-463);
\fill [white] (340,-437) -- (340,-463) -- (353,-463) -- (353,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-437) -- (340,-463);
\draw [ultra thick, black, line cap=rect] (353,-437) -- (353,-463);
\fill [white] (44,-437) -- (44,-463) -- (52,-463) -- (52,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-437) -- (44,-463);
\draw [ultra thick, black, line cap=rect] (52,-437) -- (52,-463);
\fill [white] (71,-437) -- (71,-463) -- (158,-463) -- (158,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-437) -- (71,-463);
\draw [ultra thick, black, line cap=rect] (158,-437) -- (158,-463);
\fill [white] (24,-437) -- (24,-463) -- (32,-463) -- (32,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-437) -- (24,-463);
\draw [ultra thick, black, line cap=rect] (32,-437) -- (32,-463);
\fill [white] (13,-437) -- (13,-463) -- (22,-463) -- (22,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-437) -- (13,-463);
\draw [ultra thick, black, line cap=rect] (22,-437) -- (22,-463);
\fill [white] (34,-437) -- (34,-463) -- (42,-463) -- (42,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-437) -- (34,-463);
\draw [ultra thick, black, line cap=rect] (42,-437) -- (42,-463);
\fill [white] (237,-437) .. controls (237,-455) and (214,-444) .. (214,-463) -- (222,-463) .. controls (222,-444) and (245,-455) .. (245,-437) -- cycle;
\draw [ultra thick, black] (237,-437) .. controls (237,-455) and (214,-444) .. (214,-463);
\draw [ultra thick, black] (245,-437) .. controls (245,-455) and (222,-444) .. (222,-463);
\fill [white] (257,-437) .. controls (257,-455) and (224,-444) .. (224,-463) -- (232,-463) .. controls (232,-444) and (265,-455) .. (265,-437) -- cycle;
\draw [ultra thick, black] (257,-437) .. controls (257,-455) and (224,-444) .. (224,-463);
\draw [ultra thick, black] (265,-437) .. controls (265,-455) and (232,-444) .. (232,-463);
\fill [white] (367,-437) -- (367,-463) -- (375,-463) -- (375,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-437) -- (367,-463);
\draw [ultra thick, black, line cap=rect] (375,-437) -- (375,-463);
\draw [ultra thick, lightgray] (1,-463) -- (1,-437);
\draw [ultra thick, lightgray] (383,-463) -- (383,-437);
\draw [thin, black] (11,-463) -- (11,-437);
\draw [thin, black] (377,-463) -- (377,-437);
\draw [thin, black] (7,-463) -- (7,-437);
\draw [thin, black] (379,-463) -- (379,-437);
\fill [white] (56,-437) -- (56,-462) -- (69,-462) -- (69,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-437) -- (56,-462);
\draw [ultra thick, black, line cap=rect] (69,-437) -- (69,-462);
\draw [ultra thick, black, line cap=rect] (56,-462) -- (69,-462);
\begin{pgfonlayer}{frontmost}
\draw [black] (62,-442) node{\smash{$\ml[t]{\ditto}$}};
\end{pgfonlayer}
\fill [white] (162,-437) -- (162,-462) -- (170,-462) -- (170,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (162,-437) -- (162,-462);
\draw [ultra thick, black, line cap=rect] (170,-437) -- (170,-462);
\draw [ultra thick, black, line cap=rect] (162,-462) -- (170,-462);
\fill [white] (224,-437) .. controls (224,-454) and (244,-444) .. (244,-462) -- (255,-462) .. controls (255,-444) and (235,-454) .. (235,-437) -- cycle;
\draw [ultra thick, black] (224,-437) .. controls (224,-454) and (244,-444) .. (244,-462);
\draw [ultra thick, black] (235,-437) .. controls (235,-454) and (255,-444) .. (255,-462);
\draw [ultra thick, black, line cap=rect] (244,-462) -- (255,-462);
\fill [white] (214,-437) .. controls (214,-454) and (234,-444) .. (234,-462) -- (242,-462) .. controls (242,-444) and (222,-454) .. (222,-437) -- cycle;
\draw [ultra thick, black] (214,-437) .. controls (214,-454) and (234,-444) .. (234,-462);
\draw [ultra thick, black] (222,-437) .. controls (222,-454) and (242,-444) .. (242,-462);
\draw [ultra thick, black, line cap=rect] (234,-462) -- (242,-462);
\fill [white] (174,-437) -- (174,-462) -- (182,-462) -- (182,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-437) -- (174,-462);
\draw [ultra thick, black, line cap=rect] (182,-437) -- (182,-462);
\draw [ultra thick, black, line cap=rect] (174,-462) -- (182,-462);
\fill [white] (184,-437) -- (184,-462) -- (192,-462) -- (192,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-437) -- (184,-462);
\draw [ultra thick, black, line cap=rect] (192,-437) -- (192,-462);
\draw [ultra thick, black, line cap=rect] (184,-462) -- (192,-462);
\fill [white] (320,-437) -- (320,-462) -- (328,-462) -- (328,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (320,-437) -- (320,-462);
\draw [ultra thick, black, line cap=rect] (328,-437) -- (328,-462);
\draw [ultra thick, black, line cap=rect] (320,-462) -- (328,-462);
\fill [white] (247,-437) .. controls (247,-454) and (257,-444) .. (257,-462) -- (265,-462) .. controls (265,-444) and (255,-454) .. (255,-437) -- cycle;
\draw [ultra thick, black] (247,-437) .. controls (247,-454) and (257,-444) .. (257,-462);
\draw [ultra thick, black] (255,-437) .. controls (255,-454) and (265,-444) .. (265,-462);
\draw [ultra thick, black, line cap=rect] (257,-462) -- (265,-462);
\fill [white] (330,-437) -- (330,-462) -- (338,-462) -- (338,-437) -- cycle;
\draw [ultra thick, black, line cap=rect] (330,-437) -- (330,-462);
\draw [ultra thick, black, line cap=rect] (338,-437) -- (338,-462);
\draw [ultra thick, black, line cap=rect] (330,-462) -- (338,-462);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (56,-481) rectangle (69,-463);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (56,-480) rectangle (69,-464);
\draw [black] (56,-472) node[anchor=west]{\begin{tabular}{@{}l@{}}magic.\end{tabular}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (162,-481) rectangle (212,-463);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (162,-480) rectangle (212,-464);
\draw [black] (162,-472) node[anchor=west]{\code{\begin{tabular}{@{}l@{}}set\_size\_and\_pinuse\_of\_\\inuse\_chunk(gm, p, nb);\\ \mbox{\rm //Requires $8|{\tt nb}$.}\end{tabular}}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (234,-481) rectangle (338,-463);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (234,-480) rectangle (338,-464);
\draw [black] (234,-472) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{topchunk}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (204,-463) -- (204,-481) -- (212,-481) -- (212,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-463) -- (204,-481);
\draw [ultra thick, black, line cap=rect] (212,-463) -- (212,-481);
\fill [white] (194,-463) -- (194,-481) -- (202,-481) -- (202,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-463) -- (194,-481);
\draw [ultra thick, black, line cap=rect] (202,-463) -- (202,-481);
\fill [white] (340,-463) -- (340,-481) -- (353,-481) -- (353,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-463) -- (340,-481);
\draw [ultra thick, black, line cap=rect] (353,-463) -- (353,-481);
\fill [white] (44,-463) -- (44,-481) -- (52,-481) -- (52,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-463) -- (44,-481);
\draw [ultra thick, black, line cap=rect] (52,-463) -- (52,-481);
\fill [white] (71,-463) -- (71,-481) -- (158,-481) -- (158,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-463) -- (71,-481);
\draw [ultra thick, black, line cap=rect] (158,-463) -- (158,-481);
\fill [white] (24,-463) -- (24,-481) -- (32,-481) -- (32,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-463) -- (24,-481);
\draw [ultra thick, black, line cap=rect] (32,-463) -- (32,-481);
\fill [white] (13,-463) -- (13,-481) -- (22,-481) -- (22,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-463) -- (13,-481);
\draw [ultra thick, black, line cap=rect] (22,-463) -- (22,-481);
\fill [white] (34,-463) -- (34,-481) -- (42,-481) -- (42,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-463) -- (34,-481);
\draw [ultra thick, black, line cap=rect] (42,-463) -- (42,-481);
\fill [white] (214,-463) -- (214,-481) -- (222,-481) -- (222,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (214,-463) -- (214,-481);
\draw [ultra thick, black, line cap=rect] (222,-463) -- (222,-481);
\fill [white] (224,-463) -- (224,-481) -- (232,-481) -- (232,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (224,-463) -- (224,-481);
\draw [ultra thick, black, line cap=rect] (232,-463) -- (232,-481);
\fill [white] (367,-463) -- (367,-481) -- (375,-481) -- (375,-463) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-463) -- (367,-481);
\draw [ultra thick, black, line cap=rect] (375,-463) -- (375,-481);
\draw [ultra thick, lightgray] (1,-481) -- (1,-463);
\draw [ultra thick, lightgray] (383,-481) -- (383,-463);
\draw [thin, black] (11,-481) -- (11,-463);
\draw [thin, black] (377,-481) -- (377,-463);
\draw [thin, black] (7,-481) -- (7,-463);
\draw [thin, black] (379,-481) -- (379,-463);
\fill [white] (340,-481) -- (340,-508) -- (353,-508) -- (353,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-481) -- (340,-508);
\draw [ultra thick, black, line cap=rect] (353,-481) -- (353,-508);
\fill [white] (44,-481) -- (44,-508) -- (52,-508) -- (52,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-481) -- (44,-508);
\draw [ultra thick, black, line cap=rect] (52,-481) -- (52,-508);
\fill [white] (24,-481) -- (24,-508) -- (32,-508) -- (32,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-481) -- (24,-508);
\draw [ultra thick, black, line cap=rect] (32,-481) -- (32,-508);
\fill [white] (13,-481) -- (13,-508) -- (22,-508) -- (22,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-481) -- (13,-508);
\draw [ultra thick, black, line cap=rect] (22,-481) -- (22,-508);
\fill [white] (34,-481) -- (34,-508) -- (42,-508) -- (42,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-481) -- (34,-508);
\draw [ultra thick, black, line cap=rect] (42,-481) -- (42,-508);
\fill [white] (367,-481) -- (367,-508) -- (375,-508) -- (375,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-481) -- (367,-508);
\draw [ultra thick, black, line cap=rect] (375,-481) -- (375,-508);
\draw [ultra thick, lightgray] (1,-508) -- (1,-481);
\draw [ultra thick, lightgray] (383,-508) -- (383,-481);
\draw [thin, black] (11,-508) -- (11,-481);
\draw [thin, black] (377,-508) -- (377,-481);
\draw [thin, black] (7,-508) -- (7,-481);
\draw [thin, black] (379,-508) -- (379,-481);
\fill [white] (56,-482) -- (56,-508) -- (69,-508) -- (69,-482) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-482) -- (56,-508);
\draw [ultra thick, black, line cap=rect] (69,-482) -- (69,-508);
\draw [ultra thick, black, line cap=rect] (56,-482) -- (69,-482);
\begin{pgfonlayer}{frontmost}
\draw [black] (62,-487) node{\smash{$\ml[t]{\mrot{\emph{coalesced}(A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v{}\\{} \uplus \{{\tt p}+2{\sf w}↦_{\sf a}\ceil[{\sf w}]{\tt bytes}\} \uplus  \{{\tt top}+2{\sf w}↦_{\sf u}{\tt topsize}-1{\sf w}\})}}$}};
\end{pgfonlayer}
\fill [white] (162,-482) -- (162,-507) -- (170,-507) -- (170,-482) -- cycle;
\draw [ultra thick, black, line cap=rect] (162,-482) -- (162,-507);
\draw [ultra thick, black, line cap=rect] (170,-482) -- (170,-507);
\draw [ultra thick, black, line cap=rect] (162,-482) -- (170,-482);
\draw [ultra thick, black, line cap=rect] (162,-507) -- (170,-507);
\begin{pgfonlayer}{frontmost}
\draw [black] (166,-487) node{\smash{$\ml[t]{\mrot{\pinuse{\tt p}{1}}}$}};
\end{pgfonlayer}
\fill [white] (174,-482) -- (174,-507) -- (182,-507) -- (182,-482) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-482) -- (174,-507);
\draw [ultra thick, black, line cap=rect] (182,-482) -- (182,-507);
\draw [ultra thick, black, line cap=rect] (174,-482) -- (182,-482);
\draw [ultra thick, black, line cap=rect] (174,-507) -- (182,-507);
\begin{pgfonlayer}{frontmost}
\draw [black] (178,-487) node{\smash{$\ml[t]{\mrot{\cinuse{\tt p}{1}}}$}};
\end{pgfonlayer}
\fill [white] (184,-482) -- (184,-507) -- (192,-507) -- (192,-482) -- cycle;
\draw [ultra thick, black, line cap=rect] (184,-482) -- (184,-507);
\draw [ultra thick, black, line cap=rect] (192,-482) -- (192,-507);
\draw [ultra thick, black, line cap=rect] (184,-482) -- (192,-482);
\draw [ultra thick, black, line cap=rect] (184,-507) -- (192,-507);
\begin{pgfonlayer}{frontmost}
\draw [black] (188,-487) node{\smash{$\ml[t]{\mrot{\size{\tt p}{\tt nb}}}$}};
\end{pgfonlayer}
\fill [white] (71,-481) -- (71,-507) -- (158,-507) -- (158,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-481) -- (71,-507);
\draw [ultra thick, black, line cap=rect] (158,-481) -- (158,-507);
\draw [ultra thick, black, line cap=rect] (71,-507) -- (158,-507);
\fill [white] (234,-482) -- (234,-508) -- (338,-508) -- (338,-482) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-482) -- (234,-508);
\draw [ultra thick, black, line cap=rect] (338,-482) -- (338,-508);
\draw [ultra thick, black, line cap=rect] (234,-482) -- (338,-482);
\begin{pgfonlayer}{frontmost}
\draw [black] (286,-487) node{\smash{$\ml[t]{\emph{topchunk}(\{{\tt top}+2{\sf w}↦_{\sf u} {\tt topsize}-1{\sf w}\})}$}};
\end{pgfonlayer}
\fill [white] (194,-481) -- (194,-507) -- (202,-507) -- (202,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (194,-481) -- (194,-507);
\draw [ultra thick, black, line cap=rect] (202,-481) -- (202,-507);
\draw [ultra thick, black, line cap=rect] (194,-507) -- (202,-507);
\fill [white] (204,-481) -- (204,-507) -- (212,-507) -- (212,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (204,-481) -- (204,-507);
\draw [ultra thick, black, line cap=rect] (212,-481) -- (212,-507);
\draw [ultra thick, black, line cap=rect] (204,-507) -- (212,-507);
\fill [white] (214,-481) -- (214,-507) -- (222,-507) -- (222,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (214,-481) -- (214,-507);
\draw [ultra thick, black, line cap=rect] (222,-481) -- (222,-507);
\draw [ultra thick, black, line cap=rect] (214,-507) -- (222,-507);
\fill [white] (224,-481) -- (224,-507) -- (232,-507) -- (232,-481) -- cycle;
\draw [ultra thick, black, line cap=rect] (224,-481) -- (224,-507);
\draw [ultra thick, black, line cap=rect] (232,-481) -- (232,-507);
\draw [ultra thick, black, line cap=rect] (224,-507) -- (232,-507);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (71,-514) rectangle (170,-508);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (71,-513) rectangle (170,-509);
\draw [black] (71,-511) node[anchor=west]{\begin{tabular}{@{}l@{}}Re-insert $\pinuse{\tt p}{1}$.\end{tabular}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (174,-514) rectangle (232,-508);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (174,-513) rectangle (232,-509);
\draw [black] (174,-511) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{ablock}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (234,-508) -- (234,-514) -- (338,-514) -- (338,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-508) -- (234,-514);
\draw [ultra thick, black, line cap=rect] (338,-508) -- (338,-514);
\fill [white] (340,-508) -- (340,-514) -- (353,-514) -- (353,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-508) -- (340,-514);
\draw [ultra thick, black, line cap=rect] (353,-508) -- (353,-514);
\fill [white] (44,-508) -- (44,-514) -- (52,-514) -- (52,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-508) -- (44,-514);
\draw [ultra thick, black, line cap=rect] (52,-508) -- (52,-514);
\fill [white] (56,-508) -- (56,-514) -- (69,-514) -- (69,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-508) -- (56,-514);
\draw [ultra thick, black, line cap=rect] (69,-508) -- (69,-514);
\fill [white] (24,-508) -- (24,-514) -- (32,-514) -- (32,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-508) -- (24,-514);
\draw [ultra thick, black, line cap=rect] (32,-508) -- (32,-514);
\fill [white] (13,-508) -- (13,-514) -- (22,-514) -- (22,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-508) -- (13,-514);
\draw [ultra thick, black, line cap=rect] (22,-508) -- (22,-514);
\fill [white] (34,-508) -- (34,-514) -- (42,-514) -- (42,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-508) -- (34,-514);
\draw [ultra thick, black, line cap=rect] (42,-508) -- (42,-514);
\fill [white] (367,-508) -- (367,-514) -- (375,-514) -- (375,-508) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-508) -- (367,-514);
\draw [ultra thick, black, line cap=rect] (375,-508) -- (375,-514);
\draw [ultra thick, lightgray] (1,-514) -- (1,-508);
\draw [ultra thick, lightgray] (383,-514) -- (383,-508);
\draw [thin, black] (11,-514) -- (11,-508);
\draw [thin, black] (377,-514) -- (377,-508);
\draw [thin, black] (7,-514) -- (7,-508);
\draw [thin, black] (379,-514) -- (379,-508);
% Twisted (ae,af,ai,aj,ak,al,ag,ah,ab,z) to (z,ab,ae,af,ai,aj,ak,al,ag,ah).
\fill [white] (234,-514) -- (234,-514) -- (338,-514) -- (338,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-514) -- (234,-514);
\draw [ultra thick, black, line cap=rect] (338,-514) -- (338,-514);
\fill [white] (340,-514) -- (340,-514) -- (353,-514) -- (353,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-514) -- (340,-514);
\draw [ultra thick, black, line cap=rect] (353,-514) -- (353,-514);
\fill [white] (44,-514) -- (44,-514) -- (52,-514) -- (52,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-514) -- (44,-514);
\draw [ultra thick, black, line cap=rect] (52,-514) -- (52,-514);
\fill [white] (56,-514) -- (56,-514) -- (69,-514) -- (69,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-514) -- (56,-514);
\draw [ultra thick, black, line cap=rect] (69,-514) -- (69,-514);
\fill [white] (24,-514) -- (24,-514) -- (32,-514) -- (32,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-514) -- (24,-514);
\draw [ultra thick, black, line cap=rect] (32,-514) -- (32,-514);
\fill [white] (13,-514) -- (13,-514) -- (22,-514) -- (22,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-514) -- (13,-514);
\draw [ultra thick, black, line cap=rect] (22,-514) -- (22,-514);
\fill [white] (34,-514) -- (34,-514) -- (42,-514) -- (42,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-514) -- (34,-514);
\draw [ultra thick, black, line cap=rect] (42,-514) -- (42,-514);
\fill [white] (367,-514) -- (367,-514) -- (375,-514) -- (375,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-514) -- (367,-514);
\draw [ultra thick, black, line cap=rect] (375,-514) -- (375,-514);
\draw [ultra thick, lightgray] (1,-514) -- (1,-514);
\draw [ultra thick, lightgray] (383,-514) -- (383,-514);
\draw [thin, black] (11,-514) -- (11,-514);
\draw [thin, black] (377,-514) -- (377,-514);
\draw [thin, black] (7,-514) -- (7,-514);
\draw [thin, black] (379,-514) -- (379,-514);
\fill [white] (234,-514) -- (234,-529) -- (338,-529) -- (338,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-514) -- (234,-529);
\draw [ultra thick, black, line cap=rect] (338,-514) -- (338,-529);
\fill [white] (340,-514) -- (340,-529) -- (353,-529) -- (353,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-514) -- (340,-529);
\draw [ultra thick, black, line cap=rect] (353,-514) -- (353,-529);
\fill [white] (44,-514) -- (44,-529) -- (52,-529) -- (52,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-514) -- (44,-529);
\draw [ultra thick, black, line cap=rect] (52,-514) -- (52,-529);
\fill [white] (56,-514) -- (56,-529) -- (69,-529) -- (69,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-514) -- (56,-529);
\draw [ultra thick, black, line cap=rect] (69,-514) -- (69,-529);
\fill [white] (24,-514) -- (24,-529) -- (32,-529) -- (32,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-514) -- (24,-529);
\draw [ultra thick, black, line cap=rect] (32,-514) -- (32,-529);
\fill [white] (13,-514) -- (13,-529) -- (22,-529) -- (22,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-514) -- (13,-529);
\draw [ultra thick, black, line cap=rect] (22,-514) -- (22,-529);
\fill [white] (34,-514) -- (34,-529) -- (42,-529) -- (42,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-514) -- (34,-529);
\draw [ultra thick, black, line cap=rect] (42,-514) -- (42,-529);
\fill [white] (367,-514) -- (367,-529) -- (375,-529) -- (375,-514) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-514) -- (367,-529);
\draw [ultra thick, black, line cap=rect] (375,-514) -- (375,-529);
\draw [ultra thick, lightgray] (1,-529) -- (1,-514);
\draw [ultra thick, lightgray] (383,-529) -- (383,-514);
\draw [thin, black] (11,-529) -- (11,-514);
\draw [thin, black] (377,-529) -- (377,-514);
\draw [thin, black] (7,-529) -- (7,-514);
\draw [thin, black] (379,-529) -- (379,-514);
\fill [white] (174,-515) -- (174,-528) -- (232,-528) -- (232,-515) -- cycle;
\draw [ultra thick, black, line cap=rect] (174,-515) -- (174,-528);
\draw [ultra thick, black, line cap=rect] (232,-515) -- (232,-528);
\draw [ultra thick, black, line cap=rect] (174,-515) -- (232,-515);
\draw [ultra thick, black, line cap=rect] (174,-528) -- (232,-528);
\begin{pgfonlayer}{frontmost}
\draw [black] (203,-520) node{\smash{$\ml[t]{\emph{ablock}({\tt p},{\tt top},\\\{{\tt p}+2{\sf w}↦_{\sf a}\ceil[{\sf w}]{\tt bytes}\})}$}};
\end{pgfonlayer}
\fill [white] (71,-515) -- (71,-529) -- (79,-529) -- (79,-515) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-515) -- (71,-529);
\draw [ultra thick, black, line cap=rect] (79,-515) -- (79,-529);
\draw [ultra thick, black, line cap=rect] (71,-515) -- (79,-515);
\begin{pgfonlayer}{frontmost}
\draw [black] (75,-520) node{\smash{$\ml[t]{\mrot{\pinuse{\tt start}{1}}}$}};
\end{pgfonlayer}
\fill [white] (83,-515) -- (83,-528) -- (170,-528) -- (170,-515) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-515) -- (83,-528);
\draw [ultra thick, black, line cap=rect] (170,-515) -- (170,-528);
\draw [ultra thick, black, line cap=rect] (83,-515) -- (170,-515);
\draw [ultra thick, black, line cap=rect] (83,-528) -- (170,-528);
\begin{pgfonlayer}{frontmost}
\draw [black] (126,-520) node{\smash{$\ml[t]{\emph{block}^*({\tt start},{\tt p}, A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v)}$}};
\end{pgfonlayer}
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (83,-535) rectangle (232,-529);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (83,-534) rectangle (232,-530);
\draw [black] (83,-532) node[anchor=west]{\begin{tabular}{@{}l@{}}Extend \emph{block} sequence. (TODO: Does this require any additional facts?)\end{tabular}};
\end{pgfonlayer}
\fill [white] (234,-529) -- (234,-535) -- (338,-535) -- (338,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-529) -- (234,-535);
\draw [ultra thick, black, line cap=rect] (338,-529) -- (338,-535);
\fill [white] (340,-529) -- (340,-535) -- (353,-535) -- (353,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-529) -- (340,-535);
\draw [ultra thick, black, line cap=rect] (353,-529) -- (353,-535);
\fill [white] (71,-529) -- (71,-535) -- (79,-535) -- (79,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-529) -- (71,-535);
\draw [ultra thick, black, line cap=rect] (79,-529) -- (79,-535);
\fill [white] (44,-529) -- (44,-535) -- (52,-535) -- (52,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-529) -- (44,-535);
\draw [ultra thick, black, line cap=rect] (52,-529) -- (52,-535);
\fill [white] (56,-529) -- (56,-535) -- (69,-535) -- (69,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-529) -- (56,-535);
\draw [ultra thick, black, line cap=rect] (69,-529) -- (69,-535);
\fill [white] (24,-529) -- (24,-535) -- (32,-535) -- (32,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-529) -- (24,-535);
\draw [ultra thick, black, line cap=rect] (32,-529) -- (32,-535);
\fill [white] (13,-529) -- (13,-535) -- (22,-535) -- (22,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-529) -- (13,-535);
\draw [ultra thick, black, line cap=rect] (22,-529) -- (22,-535);
\fill [white] (34,-529) -- (34,-535) -- (42,-535) -- (42,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-529) -- (34,-535);
\draw [ultra thick, black, line cap=rect] (42,-529) -- (42,-535);
\fill [white] (367,-529) -- (367,-535) -- (375,-535) -- (375,-529) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-529) -- (367,-535);
\draw [ultra thick, black, line cap=rect] (375,-529) -- (375,-535);
\draw [ultra thick, lightgray] (1,-535) -- (1,-529);
\draw [ultra thick, lightgray] (383,-535) -- (383,-529);
\draw [thin, black] (11,-535) -- (11,-529);
\draw [thin, black] (377,-535) -- (377,-529);
\draw [thin, black] (7,-535) -- (7,-529);
\draw [thin, black] (379,-535) -- (379,-529);
\fill [white] (234,-535) -- (234,-586) -- (338,-586) -- (338,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-535) -- (234,-586);
\draw [ultra thick, black, line cap=rect] (338,-535) -- (338,-586);
\fill [white] (340,-535) -- (340,-586) -- (353,-586) -- (353,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-535) -- (340,-586);
\draw [ultra thick, black, line cap=rect] (353,-535) -- (353,-586);
\fill [white] (24,-535) -- (24,-586) -- (32,-586) -- (32,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-535) -- (24,-586);
\draw [ultra thick, black, line cap=rect] (32,-535) -- (32,-586);
\fill [white] (13,-535) -- (13,-586) -- (22,-586) -- (22,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-535) -- (13,-586);
\draw [ultra thick, black, line cap=rect] (22,-535) -- (22,-586);
\fill [white] (34,-535) -- (34,-586) -- (42,-586) -- (42,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-535) -- (34,-586);
\draw [ultra thick, black, line cap=rect] (42,-535) -- (42,-586);
\fill [white] (367,-535) -- (367,-586) -- (375,-586) -- (375,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-535) -- (367,-586);
\draw [ultra thick, black, line cap=rect] (375,-535) -- (375,-586);
\draw [ultra thick, lightgray] (1,-586) -- (1,-535);
\draw [ultra thick, lightgray] (383,-586) -- (383,-535);
\draw [thin, black] (11,-586) -- (11,-535);
\draw [thin, black] (377,-586) -- (377,-535);
\draw [thin, black] (7,-586) -- (7,-535);
\draw [thin, black] (379,-586) -- (379,-535);
\fill [white] (83,-536) -- (83,-585) -- (232,-585) -- (232,-536) -- cycle;
\draw [ultra thick, black, line cap=rect] (83,-536) -- (83,-585);
\draw [ultra thick, black, line cap=rect] (232,-536) -- (232,-585);
\draw [ultra thick, black, line cap=rect] (83,-536) -- (232,-536);
\draw [ultra thick, black, line cap=rect] (83,-585) -- (232,-585);
\begin{pgfonlayer}{frontmost}
\draw [black] (157,-541) node{\smash{$\ml[t]{\emph{block}^*({\tt start},{\tt top}, A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v \uplus \{{\tt p}+2{\sf w}↦_{\sf a}\ceil[{\sf w}]{\tt bytes}\})}$}};
\end{pgfonlayer}
\fill [white] (71,-535) -- (71,-585) -- (79,-585) -- (79,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (71,-535) -- (71,-585);
\draw [ultra thick, black, line cap=rect] (79,-535) -- (79,-585);
\draw [ultra thick, black, line cap=rect] (71,-585) -- (79,-585);
\fill [white] (56,-535) -- (56,-585) -- (69,-585) -- (69,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (56,-535) -- (56,-585);
\draw [ultra thick, black, line cap=rect] (69,-535) -- (69,-585);
\draw [ultra thick, black, line cap=rect] (56,-585) -- (69,-585);
\fill [white] (44,-535) -- (44,-585) -- (52,-585) -- (52,-535) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-535) -- (44,-585);
\draw [ultra thick, black, line cap=rect] (52,-535) -- (52,-585);
\draw [ultra thick, black, line cap=rect] (44,-585) -- (52,-585);
% Twisted (aa,z) to (z,aa).
\fill [white] (234,-586) -- (234,-586) -- (338,-586) -- (338,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-586) -- (234,-586);
\draw [ultra thick, black, line cap=rect] (338,-586) -- (338,-586);
\fill [white] (340,-586) -- (340,-586) -- (353,-586) -- (353,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-586) -- (340,-586);
\draw [ultra thick, black, line cap=rect] (353,-586) -- (353,-586);
\fill [white] (24,-586) -- (24,-586) -- (32,-586) -- (32,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-586) -- (24,-586);
\draw [ultra thick, black, line cap=rect] (32,-586) -- (32,-586);
\fill [white] (13,-586) -- (13,-586) -- (22,-586) -- (22,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-586) -- (13,-586);
\draw [ultra thick, black, line cap=rect] (22,-586) -- (22,-586);
\fill [white] (34,-586) -- (34,-586) -- (42,-586) -- (42,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-586) -- (34,-586);
\draw [ultra thick, black, line cap=rect] (42,-586) -- (42,-586);
\fill [white] (367,-586) -- (367,-586) -- (375,-586) -- (375,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-586) -- (367,-586);
\draw [ultra thick, black, line cap=rect] (375,-586) -- (375,-586);
\draw [ultra thick, lightgray] (1,-586) -- (1,-586);
\draw [ultra thick, lightgray] (383,-586) -- (383,-586);
\draw [thin, black] (11,-586) -- (11,-586);
\draw [thin, black] (377,-586) -- (377,-586);
\draw [thin, black] (7,-586) -- (7,-586);
\draw [thin, black] (379,-586) -- (379,-586);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (44,-592) rectangle (232,-586);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (44,-591) rectangle (232,-587);
\draw [black] (44,-589) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{arena}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (234,-586) -- (234,-592) -- (338,-592) -- (338,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-586) -- (234,-592);
\draw [ultra thick, black, line cap=rect] (338,-586) -- (338,-592);
\fill [white] (340,-586) -- (340,-592) -- (353,-592) -- (353,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-586) -- (340,-592);
\draw [ultra thick, black, line cap=rect] (353,-586) -- (353,-592);
\fill [white] (24,-586) -- (24,-592) -- (32,-592) -- (32,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-586) -- (24,-592);
\draw [ultra thick, black, line cap=rect] (32,-586) -- (32,-592);
\fill [white] (13,-586) -- (13,-592) -- (22,-592) -- (22,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-586) -- (13,-592);
\draw [ultra thick, black, line cap=rect] (22,-586) -- (22,-592);
\fill [white] (34,-586) -- (34,-592) -- (42,-592) -- (42,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-586) -- (34,-592);
\draw [ultra thick, black, line cap=rect] (42,-586) -- (42,-592);
\fill [white] (367,-586) -- (367,-592) -- (375,-592) -- (375,-586) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-586) -- (367,-592);
\draw [ultra thick, black, line cap=rect] (375,-586) -- (375,-592);
\draw [ultra thick, lightgray] (1,-592) -- (1,-586);
\draw [ultra thick, lightgray] (383,-592) -- (383,-586);
\draw [thin, black] (11,-592) -- (11,-586);
\draw [thin, black] (377,-592) -- (377,-586);
\draw [thin, black] (7,-592) -- (7,-586);
\draw [thin, black] (379,-592) -- (379,-586);
\fill [white] (340,-592) -- (340,-602) -- (353,-602) -- (353,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-592) -- (340,-602);
\draw [ultra thick, black, line cap=rect] (353,-592) -- (353,-602);
\fill [white] (367,-592) -- (367,-602) -- (375,-602) -- (375,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-592) -- (367,-602);
\draw [ultra thick, black, line cap=rect] (375,-592) -- (375,-602);
\draw [ultra thick, lightgray] (1,-602) -- (1,-592);
\draw [ultra thick, lightgray] (383,-602) -- (383,-592);
\draw [thin, black] (11,-602) -- (11,-592);
\draw [thin, black] (377,-602) -- (377,-592);
\draw [thin, black] (7,-602) -- (7,-592);
\draw [thin, black] (379,-602) -- (379,-592);
\fill [white] (44,-593) -- (44,-601) -- (232,-601) -- (232,-593) -- cycle;
\draw [ultra thick, black, line cap=rect] (44,-593) -- (44,-601);
\draw [ultra thick, black, line cap=rect] (232,-593) -- (232,-601);
\draw [ultra thick, black, line cap=rect] (44,-593) -- (232,-593);
\draw [ultra thick, black, line cap=rect] (44,-601) -- (232,-601);
\begin{pgfonlayer}{frontmost}
\draw [black] (138,-598) node{\smash{$\ml[t]{\arena{A_{\sf a} \uplus (\biguplus_{i=0}^{64}．U_i)_{\sf u} \uplus v \uplus \{{\tt p}+2{\sf w}↦_{\sf a}\ceil[{\sf w}]{\tt bytes}\}}{\{{\tt top}+2{\sf w}↦_{\sf u} {\tt topsize}+{\tt nb}-1{\sf w}\}}}$}};
\end{pgfonlayer}
\fill [white] (13,-592) -- (13,-601) -- (22,-601) -- (22,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-592) -- (13,-601);
\draw [ultra thick, black, line cap=rect] (22,-592) -- (22,-601);
\draw [ultra thick, black, line cap=rect] (13,-601) -- (22,-601);
\fill [white] (24,-592) -- (24,-601) -- (32,-601) -- (32,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (24,-592) -- (24,-601);
\draw [ultra thick, black, line cap=rect] (32,-592) -- (32,-601);
\draw [ultra thick, black, line cap=rect] (24,-601) -- (32,-601);
\fill [white] (34,-592) -- (34,-601) -- (42,-601) -- (42,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (34,-592) -- (34,-601);
\draw [ultra thick, black, line cap=rect] (42,-592) -- (42,-601);
\draw [ultra thick, black, line cap=rect] (34,-601) -- (42,-601);
\fill [white] (234,-592) -- (234,-601) -- (338,-601) -- (338,-592) -- cycle;
\draw [ultra thick, black, line cap=rect] (234,-592) -- (234,-601);
\draw [ultra thick, black, line cap=rect] (338,-592) -- (338,-601);
\draw [ultra thick, black, line cap=rect] (234,-601) -- (338,-601);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (11,-603) -- (377,-603);
\draw [thin, black] (11,-603) -- (377,-603);
\draw [thin, black] (11,-602) -- (11,-603);
\draw [thin, black] (377,-603) -- (377,-602);
\end{pgfonlayer}
\fill [white] (340,-602) -- (340,-604) -- (353,-604) -- (353,-602) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-602) -- (340,-604);
\draw [ultra thick, black, line cap=rect] (353,-602) -- (353,-604);
\fill [white] (367,-602) -- (367,-604) -- (375,-604) -- (375,-602) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-602) -- (367,-604);
\draw [ultra thick, black, line cap=rect] (375,-602) -- (375,-604);
\draw [ultra thick, lightgray] (1,-604) -- (1,-602);
\draw [ultra thick, lightgray] (383,-604) -- (383,-602);
\draw [thin, black] (7,-604) -- (7,-602);
\draw [thin, black] (379,-604) -- (379,-602);
\begin{pgfonlayer}{frontmost}
\draw [line width = 2.2mm, white] (7,-605) -- (379,-605);
\draw [thin, black] (7,-605) -- (379,-605);
\draw [thin, black] (7,-604) -- (7,-605);
\draw [thin, black] (379,-605) -- (379,-604);
\end{pgfonlayer}
\fill [white] (340,-604) -- (340,-606) -- (353,-606) -- (353,-604) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-604) -- (340,-606);
\draw [ultra thick, black, line cap=rect] (353,-604) -- (353,-606);
\fill [white] (367,-604) -- (367,-606) -- (375,-606) -- (375,-604) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-604) -- (367,-606);
\draw [ultra thick, black, line cap=rect] (375,-604) -- (375,-606);
\draw [ultra thick, lightgray] (1,-606) -- (1,-604);
\draw [ultra thick, lightgray] (383,-606) -- (383,-604);
\begin{pgfonlayer}{frontmost}
\filldraw [fill=white, draw=white, line width=2pt] (13,-612) rectangle (338,-606);
\filldraw [fill=lightgray, draw=lightgray, ultra thick, rounded corners=2.mm] (13,-611) rectangle (338,-607);
\draw [black] (13,-609) node[anchor=west]{\begin{tabular}{@{}l@{}}Defn of \emph{state}.\end{tabular}};
\end{pgfonlayer}
\fill [white] (340,-606) -- (340,-612) -- (353,-612) -- (353,-606) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-606) -- (340,-612);
\draw [ultra thick, black, line cap=rect] (353,-606) -- (353,-612);
\fill [white] (367,-606) -- (367,-612) -- (375,-612) -- (375,-606) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-606) -- (367,-612);
\draw [ultra thick, black, line cap=rect] (375,-606) -- (375,-612);
\draw [ultra thick, lightgray] (1,-612) -- (1,-606);
\draw [ultra thick, lightgray] (383,-612) -- (383,-606);
\fill [white] (340,-612) -- (340,-621) -- (353,-621) -- (353,-612) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-612) -- (340,-621);
\draw [ultra thick, black, line cap=rect] (353,-612) -- (353,-621);
\fill [white] (367,-612) -- (367,-621) -- (375,-621) -- (375,-612) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-612) -- (367,-621);
\draw [ultra thick, black, line cap=rect] (375,-612) -- (375,-621);
\draw [ultra thick, lightgray] (1,-621) -- (1,-612);
\draw [ultra thick, lightgray] (383,-621) -- (383,-612);
\fill [white] (13,-613) -- (13,-621) -- (338,-621) -- (338,-613) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-613) -- (13,-621);
\draw [ultra thick, black, line cap=rect] (338,-613) -- (338,-621);
\draw [ultra thick, black, line cap=rect] (13,-613) -- (338,-613);
\begin{pgfonlayer}{frontmost}
\draw [black] (175,-618) node{\smash{$\ml[t]{\state{A\uplus\{{\tt p}+2{\sf w}↦\ceil[{\sf w}]{\tt bytes}\}}}$}};
\end{pgfonlayer}
\fill [white] (13,-621) -- (13,-621) -- (338,-621) -- (338,-621) -- cycle;
\draw [ultra thick, black, line cap=rect] (13,-621) -- (13,-621);
\draw [ultra thick, black, line cap=rect] (338,-621) -- (338,-621);
\fill [white] (340,-621) -- (340,-621) -- (353,-621) -- (353,-621) -- cycle;
\draw [ultra thick, black, line cap=rect] (340,-621) -- (340,-621);
\draw [ultra thick, black, line cap=rect] (353,-621) -- (353,-621);
\fill [white] (367,-621) -- (367,-621) -- (375,-621) -- (375,-621) -- cycle;
\draw [ultra thick, black, line cap=rect] (367,-621) -- (367,-621);
\draw [ultra thick, black, line cap=rect] (375,-621) -- (375,-621);
\draw [ultra thick, lightgray] (1,-621) -- (1,-621);
\draw [ultra thick, lightgray] (383,-621) -- (383,-621);
\end{tikzpicture}
%Finished.
